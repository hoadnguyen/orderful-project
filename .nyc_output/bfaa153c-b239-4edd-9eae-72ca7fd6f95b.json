{"/Users/hoanguyen/repos/personal/orderful/src/middlewares/parsers/document-body.parser.spec.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/middlewares/parsers/document-body.parser.spec.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":45}},"3":{"start":{"line":5,"column":21},"end":{"line":5,"column":54}},"4":{"start":{"line":6,"column":31},"end":{"line":6,"column":64}},"5":{"start":{"line":7,"column":14},"end":{"line":7,"column":30}},"6":{"start":{"line":8,"column":20},"end":{"line":23,"column":1}},"7":{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},"8":{"start":{"line":11,"column":12},"end":{"line":11,"column":32}},"9":{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},"10":{"start":{"line":14,"column":12},"end":{"line":14,"column":38}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":18}},"12":{"start":{"line":24,"column":0},"end":{"line":70,"column":3}},"13":{"start":{"line":25,"column":4},"end":{"line":37,"column":7}},"14":{"start":{"line":26,"column":24},"end":{"line":34,"column":9}},"15":{"start":{"line":29,"column":16},"end":{"line":31,"column":17}},"16":{"start":{"line":30,"column":20},"end":{"line":30,"column":46}},"17":{"start":{"line":32,"column":16},"end":{"line":32,"column":26}},"18":{"start":{"line":35,"column":19},"end":{"line":35,"column":102}},"19":{"start":{"line":35,"column":25},"end":{"line":35,"column":102}},"20":{"start":{"line":35,"column":92},"end":{"line":35,"column":101}},"21":{"start":{"line":36,"column":8},"end":{"line":36,"column":74}},"22":{"start":{"line":38,"column":4},"end":{"line":50,"column":7}},"23":{"start":{"line":39,"column":24},"end":{"line":47,"column":9}},"24":{"start":{"line":42,"column":16},"end":{"line":44,"column":17}},"25":{"start":{"line":43,"column":20},"end":{"line":43,"column":40}},"26":{"start":{"line":45,"column":16},"end":{"line":45,"column":26}},"27":{"start":{"line":48,"column":19},"end":{"line":48,"column":102}},"28":{"start":{"line":48,"column":25},"end":{"line":48,"column":102}},"29":{"start":{"line":48,"column":92},"end":{"line":48,"column":101}},"30":{"start":{"line":49,"column":8},"end":{"line":49,"column":74}},"31":{"start":{"line":51,"column":4},"end":{"line":69,"column":7}},"32":{"start":{"line":52,"column":21},"end":{"line":52,"column":33}},"33":{"start":{"line":53,"column":20},"end":{"line":53,"column":38}},"34":{"start":{"line":54,"column":8},"end":{"line":54,"column":71}},"35":{"start":{"line":55,"column":8},"end":{"line":55,"column":57}},"36":{"start":{"line":56,"column":8},"end":{"line":68,"column":11}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":12},"end":{"line":9,"column":13}},"loc":{"start":{"line":9,"column":22},"end":{"line":17,"column":5}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":24,"column":31},"end":{"line":24,"column":32}},"loc":{"start":{"line":24,"column":37},"end":{"line":70,"column":1}},"line":24},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":71},"end":{"line":25,"column":72}},"loc":{"start":{"line":25,"column":77},"end":{"line":37,"column":5}},"line":25},"3":{"name":"(anonymous_3)","decl":{"start":{"line":28,"column":20},"end":{"line":28,"column":21}},"loc":{"start":{"line":28,"column":30},"end":{"line":33,"column":13}},"line":28},"4":{"name":"(anonymous_4)","decl":{"start":{"line":35,"column":19},"end":{"line":35,"column":20}},"loc":{"start":{"line":35,"column":25},"end":{"line":35,"column":102}},"line":35},"5":{"name":"(anonymous_5)","decl":{"start":{"line":35,"column":86},"end":{"line":35,"column":87}},"loc":{"start":{"line":35,"column":92},"end":{"line":35,"column":101}},"line":35},"6":{"name":"(anonymous_6)","decl":{"start":{"line":38,"column":66},"end":{"line":38,"column":67}},"loc":{"start":{"line":38,"column":72},"end":{"line":50,"column":5}},"line":38},"7":{"name":"(anonymous_7)","decl":{"start":{"line":41,"column":20},"end":{"line":41,"column":21}},"loc":{"start":{"line":41,"column":30},"end":{"line":46,"column":13}},"line":41},"8":{"name":"(anonymous_8)","decl":{"start":{"line":48,"column":19},"end":{"line":48,"column":20}},"loc":{"start":{"line":48,"column":25},"end":{"line":48,"column":102}},"line":48},"9":{"name":"(anonymous_9)","decl":{"start":{"line":48,"column":86},"end":{"line":48,"column":87}},"loc":{"start":{"line":48,"column":92},"end":{"line":48,"column":101}},"line":48},"10":{"name":"(anonymous_10)","decl":{"start":{"line":51,"column":57},"end":{"line":51,"column":58}},"loc":{"start":{"line":51,"column":63},"end":{"line":69,"column":5}},"line":51}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},"type":"if","locations":[{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},{"start":{"line":10,"column":8},"end":{"line":12,"column":9}}],"line":10},"1":{"loc":{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},"type":"if","locations":[{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},{"start":{"line":13,"column":8},"end":{"line":15,"column":9}}],"line":13},"2":{"loc":{"start":{"line":29,"column":16},"end":{"line":31,"column":17}},"type":"if","locations":[{"start":{"line":29,"column":16},"end":{"line":31,"column":17}},{"start":{"line":29,"column":16},"end":{"line":31,"column":17}}],"line":29},"3":{"loc":{"start":{"line":42,"column":16},"end":{"line":44,"column":17}},"type":"if","locations":[{"start":{"line":42,"column":16},"end":{"line":44,"column":17}},{"start":{"line":42,"column":16},"end":{"line":44,"column":17}}],"line":42}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":1,"9":1,"10":1,"11":0,"12":1,"13":1,"14":1,"15":2,"16":1,"17":1,"18":1,"19":1,"20":0,"21":1,"22":1,"23":1,"24":2,"25":1,"26":1,"27":1,"28":1,"29":0,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1},"f":{"0":2,"1":1,"2":1,"3":2,"4":1,"5":0,"6":1,"7":2,"8":1,"9":0,"10":1},"b":{"0":[1,1],"1":[1,0],"2":[1,1],"3":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/middlewares/parsers/document-body.parser.spec.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/middlewares/parsers/document-body.parser.spec.ts"],"names":[],"mappings":";;AAAA,+BAA8B;AAE9B,8CAA2C;AAC3C,uDAA6D;AAC7D,iEAA4D;AAC5D,+BAA+B;AAE/B,MAAM,WAAW,GAAG;IAClB,MAAM,EAAE,CAAC,IAAY,EAAU,EAAE;QAC/B,IAAI,IAAI,KAAK,cAAc,EAAE;YAC3B,OAAO,YAAY,CAAC;SACrB;QACD,IAAI,IAAI,KAAK,QAAQ,EAAE;YACrB,OAAO,kBAAkB,CAAC;SAC3B;QACD,OAAO,EAAE,CAAC;IACZ,CAAC;IACD,KAAK,EAAE;QACL,aAAa,EAAE,GAAG;QAClB,aAAa,EAAE,GAAG;KACnB;IACD,IAAI,EAAE,yEAAyE;CAChF,CAAC;AAEF,QAAQ,CAAC,oBAAoB,EAAE,GAAG,EAAE;IAClC,EAAE,CAAC,8DAA8D,EAAE,GAAG,EAAE;QACtE,MAAM,OAAO,GAAG;YACd,GAAG,WAAW;YACd,MAAM,EAAE,CAAC,IAAY,EAAU,EAAE;gBAC/B,IAAI,IAAI,KAAK,QAAQ,EAAE;oBACrB,OAAO,kBAAkB,CAAC;iBAC3B;gBACD,OAAO,EAAE,CAAC;YACZ,CAAC;SACF,CAAC;QAEF,MAAM,EAAE,GAAG,GAAG,EAAE,CAAC,yCAAkB,CAAC,KAAK,CACvC,OAA6B,EAC7B,EAAc,EACd,GAAG,EAAE,CAAC,SAAS,CAChB,CAAC;QAEF,IAAA,aAAM,EAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,gCAAmB,CAAC,CAAC;IAC3C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,yDAAyD,EAAE,GAAG,EAAE;QACjE,MAAM,OAAO,GAAG;YACd,GAAG,WAAW;YACd,MAAM,EAAE,CAAC,IAAY,EAAU,EAAE;gBAC/B,IAAI,IAAI,KAAK,cAAc,EAAE;oBAC3B,OAAO,YAAY,CAAC;iBACrB;gBACD,OAAO,EAAE,CAAC;YACZ,CAAC;SACF,CAAC;QAEF,MAAM,EAAE,GAAG,GAAG,EAAE,CAAC,yCAAkB,CAAC,KAAK,CACvC,OAA6B,EAC7B,EAAc,EACd,GAAG,EAAE,CAAC,SAAS,CAChB,CAAC;QAEF,IAAA,aAAM,EAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,gCAAmB,CAAC,CAAC;IAC3C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,gDAAgD,EAAE,GAAG,EAAE;QACxD,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;QAC1B,MAAM,GAAG,GAAG,EAAC,GAAG,WAAW,EAAC,CAAC;QAE7B,yCAAkB,CAAC,KAAK,CACtB,GAAyB,EACzB,EAAc,EACd,IAAI,CACL,CAAC;QACF,IAAA,aAAM,EAAC,IAAI,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;QAErC,IAAA,aAAM,EAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC;YACtB,IAAI,EAAE;gBACJ,MAAM,EAAE,eAAM,CAAC,UAAU;gBACzB,aAAa,EAAE,GAAG;gBAClB,aAAa,EAAE,GAAG;aACnB;YACD,EAAE,EAAE;gBACF,MAAM,EAAE,eAAM,CAAC,IAAI;gBACnB,aAAa,EAAE,GAAG;gBAClB,aAAa,EAAE,GAAG;aACnB;YACD,QAAQ,EAAE,yEAAyE;SACpF,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { expect } from 'chai';\nimport { Request, Response } from 'express';\nimport { Format } from '../../enum/format';\nimport { BadRequestException } from '../../utils/exceptions';\nimport { documentBodyParser } from './document-body.parser';\nimport * as sinon from 'sinon';\n\nconst standardReq = {\n  header: (name: string): string => {\n    if (name === 'Content-Type') {\n      return 'text/plain';\n    }\n    if (name === 'Accept') {\n      return 'application/json';\n    }\n    return '';\n  },\n  query: {\n    itemSeparator: '*',\n    lineSeparator: '~',\n  },\n  body: 'ProductID* 4* 8* 15* 16*23~AddressID* 42* 108*3* 14 ~ContactID* 59* 26~',\n};\n\ndescribe('DocumentBodyParser', () => {\n  it('should throw BadRequestException if ContentType is undefined', () => {\n    const request = {\n      ...standardReq,\n      header: (name: string): string => {\n        if (name === 'Accept') {\n          return 'application/json';\n        }\n        return '';\n      },\n    };\n\n    const fn = () => documentBodyParser.parse(\n      request as unknown as Request,\n      {} as Response,\n      () => undefined,\n    );\n\n    expect(fn).to.throw(BadRequestException);\n  });\n\n  it('should throw BadRequestException if Accept is undefined', () => {\n    const request = {\n      ...standardReq,\n      header: (name: string): string => {\n        if (name === 'Content-Type') {\n          return 'text/plain';\n        }\n        return '';\n      },\n    };\n\n    const fn = () => documentBodyParser.parse(\n      request as unknown as Request,\n      {} as Response,\n      () => undefined,\n    );\n\n    expect(fn).to.throw(BadRequestException);\n  });\n\n  it('should create a request.body with valid fields', () => {\n    const next = sinon.stub();\n    const req = {...standardReq};\n\n    documentBodyParser.parse(\n      req as unknown as Request,\n      {} as Response,\n      next,\n    );\n    expect(next).to.have.been.calledOnce;\n\n    expect(req.body).to.eql({\n      from: {\n        format: Format.Delineated,\n        itemSeparator: '*',\n        lineSeparator: '~',\n      },\n      to: {\n        format: Format.Json,\n        itemSeparator: '*',\n        lineSeparator: '~',\n      },\n      document: 'ProductID* 4* 8* 15* 16*23~AddressID* 42* 108*3* 14 ~ContactID* 59* 26~',\n    });\n  });\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bf2f5187b6ed17295f700e9953e19189c8b80769","contentHash":"fe05204fec137227bf6d3a0047bf5d0ccf09eca87f48ed6385cd14817ea5ae9a"},"/Users/hoanguyen/repos/personal/orderful/src/enum/format.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/enum/format.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}},"2":{"start":{"line":5,"column":0},"end":{"line":9,"column":53}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":28}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":1},"end":{"line":5,"column":2}},"loc":{"start":{"line":5,"column":19},"end":{"line":9,"column":1}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":12},"end":{"line":9,"column":51}},"type":"binary-expr","locations":[{"start":{"line":9,"column":12},"end":{"line":9,"column":26}},{"start":{"line":9,"column":31},"end":{"line":9,"column":50}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/enum/format.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/enum/format.ts"],"names":[],"mappings":";;;AAAA,IAAY,MAIX;AAJD,WAAY,MAAM;IAChB,mCAAyB,CAAA;IACzB,uBAAa,CAAA;IACb,qBAAW,CAAA;AACb,CAAC,EAJW,MAAM,GAAN,cAAM,KAAN,cAAM,QAIjB","sourcesContent":["export enum Format {\n  Delineated = 'delineated',\n  Json = 'json',\n  Xml = 'xml',\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5319b69ca32944872be58b1e66882445408b4acf","contentHash":"7457202079f416c741abb16dfb3262bc5e40ef61422860a621a6597db5587e3d"},"/Users/hoanguyen/repos/personal/orderful/src/utils/exceptions.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/utils/exceptions.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":23}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":26}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":42}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":25},"end":{"line":9,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":13,"3":13,"4":13,"5":1},"f":{"0":13},"b":{},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/utils/exceptions.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/utils/exceptions.ts"],"names":[],"mappings":";;;AAAA,MAAa,mBAAoB,SAAQ,KAAK;IAG5C,YAAY,OAAe;QACzB,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QAClB,IAAI,CAAC,IAAI,GAAG,qBAAqB,CAAC;IACpC,CAAC;CACF;AARD,kDAQC","sourcesContent":["export class BadRequestException extends Error {\n  status: number;\n\n  constructor(message: string) {\n    super(message);\n    this.status = 400;\n    this.name = 'BadRequestException';\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d4b49a265f42b782bcf52940880863bcad60b15d","contentHash":"28a618e4d7b184eac1acf6d816ab75d9e5d38d9bea41b2b05400b66660445e44"},"/Users/hoanguyen/repos/personal/orderful/src/middlewares/parsers/document-body.parser.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/middlewares/parsers/document-body.parser.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":23},"end":{"line":4,"column":58}},"3":{"start":{"line":5,"column":21},"end":{"line":5,"column":54}},"4":{"start":{"line":6,"column":0},"end":{"line":32,"column":2}},"5":{"start":{"line":8,"column":28},"end":{"line":8,"column":54}},"6":{"start":{"line":9,"column":27},"end":{"line":9,"column":47}},"7":{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},"8":{"start":{"line":11,"column":12},"end":{"line":11,"column":97}},"9":{"start":{"line":13,"column":27},"end":{"line":13,"column":80}},"10":{"start":{"line":14,"column":25},"end":{"line":14,"column":77}},"11":{"start":{"line":15,"column":49},"end":{"line":15,"column":58}},"12":{"start":{"line":16,"column":25},"end":{"line":16,"column":33}},"13":{"start":{"line":17,"column":8},"end":{"line":29,"column":10}},"14":{"start":{"line":30,"column":8},"end":{"line":30,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":11},"end":{"line":7,"column":12}},"loc":{"start":{"line":7,"column":31},"end":{"line":31,"column":5}},"line":7}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},"type":"if","locations":[{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},{"start":{"line":10,"column":8},"end":{"line":12,"column":9}}],"line":10},"1":{"loc":{"start":{"line":10,"column":12},"end":{"line":10,"column":39}},"type":"binary-expr","locations":[{"start":{"line":10,"column":12},"end":{"line":10,"column":24}},{"start":{"line":10,"column":28},"end":{"line":10,"column":39}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":3,"7":3,"8":2,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{"0":3},"b":{"0":[2,1],"1":[3,2]},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/middlewares/parsers/document-body.parser.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/middlewares/parsers/document-body.parser.ts"],"names":[],"mappings":";;;AACA,2DAAgE;AAChE,uDAA6D;AAEhD,QAAA,kBAAkB,GAAG;IAChC,KAAK,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAQ,EAAE;QAC/D,MAAM,WAAW,GAAG,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QAC/C,MAAM,UAAU,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAExC,IAAI,CAAC,WAAW,IAAI,CAAC,UAAU,EAAE;YAC/B,MAAM,IAAI,gCAAmB,CAAC,wCAAwC,CAAC,CAAC;SACzE;QAED,MAAM,UAAU,GAAG,IAAA,mCAAoB,EAAC,WAAW,CAAC,CAAC;QACrD,MAAM,QAAQ,GAAG,IAAA,mCAAoB,EAAC,UAAU,CAAC,CAAC;QAElD,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC;QACnD,MAAM,QAAQ,GAAG,GAAG,CAAC,IAAc,CAAC;QAEpC,GAAG,CAAC,IAAI,GAAG;YACT,IAAI,EAAE;gBACJ,MAAM,EAAE,UAAU;gBAClB,aAAa,EAAE,aAAuB;gBACtC,aAAa,EAAE,aAAuB;aACvC;YACD,EAAE,EAAE;gBACF,MAAM,EAAE,QAAQ;gBAChB,aAAa,EAAE,aAAuB;gBACtC,aAAa,EAAE,aAAuB;aACvC;YACD,QAAQ;SACT,CAAC;QAEF,OAAO,IAAI,EAAE,CAAC;IAChB,CAAC;CACF,CAAC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport { formatFromHeaderType } from '../../utils/content-type';\nimport { BadRequestException } from '../../utils/exceptions';\n\nexport const documentBodyParser = {\n  parse: (req: Request, res: Response, next: NextFunction): void => {\n    const contentType = req.header('Content-Type');\n    const acceptType = req.header('Accept');\n\n    if (!contentType || !acceptType) {\n      throw new BadRequestException('Missing Content-Type or Accept headers');\n    }\n\n    const fromFormat = formatFromHeaderType(contentType);\n    const toFormat = formatFromHeaderType(acceptType);\n\n    const { itemSeparator, lineSeparator } = req.query;\n    const document = req.body as string;\n\n    req.body = {\n      from: {\n        format: fromFormat,\n        itemSeparator: itemSeparator as string,\n        lineSeparator: lineSeparator as string,\n      },\n      to: {\n        format: toFormat,\n        itemSeparator: itemSeparator as string,\n        lineSeparator: lineSeparator as string,\n      },\n      document,\n    };\n\n    return next();\n  },\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4ead98e835876a912f33500b7498629a4e29feb9","contentHash":"1a3d4a1629f2a3fd4a44a8d1a703796ec44a88130612a24153db7524e9917c51"},"/Users/hoanguyen/repos/personal/orderful/src/utils/content-type.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/utils/content-type.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":70}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":42}},"3":{"start":{"line":5,"column":30},"end":{"line":14,"column":1}},"4":{"start":{"line":6,"column":4},"end":{"line":13,"column":5}},"5":{"start":{"line":8,"column":12},"end":{"line":8,"column":32}},"6":{"start":{"line":10,"column":12},"end":{"line":10,"column":38}},"7":{"start":{"line":12,"column":12},"end":{"line":12,"column":37}},"8":{"start":{"line":15,"column":0},"end":{"line":15,"column":54}},"9":{"start":{"line":16,"column":29},"end":{"line":27,"column":1}},"10":{"start":{"line":17,"column":4},"end":{"line":26,"column":5}},"11":{"start":{"line":19,"column":12},"end":{"line":19,"column":46}},"12":{"start":{"line":21,"column":12},"end":{"line":21,"column":40}},"13":{"start":{"line":23,"column":12},"end":{"line":23,"column":39}},"14":{"start":{"line":25,"column":12},"end":{"line":25,"column":29}},"15":{"start":{"line":28,"column":0},"end":{"line":28,"column":52}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":30},"end":{"line":5,"column":31}},"loc":{"start":{"line":5,"column":42},"end":{"line":14,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":29},"end":{"line":16,"column":30}},"loc":{"start":{"line":16,"column":46},"end":{"line":27,"column":1}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":4},"end":{"line":13,"column":5}},"type":"switch","locations":[{"start":{"line":7,"column":8},"end":{"line":8,"column":32}},{"start":{"line":9,"column":8},"end":{"line":10,"column":38}},{"start":{"line":11,"column":8},"end":{"line":12,"column":37}}],"line":6},"1":{"loc":{"start":{"line":17,"column":4},"end":{"line":26,"column":5}},"type":"switch","locations":[{"start":{"line":18,"column":8},"end":{"line":19,"column":46}},{"start":{"line":20,"column":8},"end":{"line":21,"column":40}},{"start":{"line":22,"column":8},"end":{"line":23,"column":39}},{"start":{"line":24,"column":8},"end":{"line":25,"column":29}}],"line":17}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1,"9":1,"10":2,"11":1,"12":1,"13":0,"14":0,"15":1},"f":{"0":0,"1":2},"b":{"0":[0,0,0],"1":[1,1,0,0]},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/utils/content-type.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/utils/content-type.ts"],"names":[],"mappings":";;;AAAA,2CAAwC;AAEjC,MAAM,qBAAqB,GAAG,CAAC,MAAc,EAAU,EAAE;IAC9D,QAAQ,MAAM,EAAE;QAChB,KAAK,eAAM,CAAC,UAAU;YACpB,OAAO,YAAY,CAAC;QACtB,KAAK,eAAM,CAAC,IAAI;YACd,OAAO,kBAAkB,CAAC;QAC5B,KAAK,eAAM,CAAC,GAAG;YACb,OAAO,iBAAiB,CAAC;KAC1B;AACH,CAAC,CAAC;AATW,QAAA,qBAAqB,yBAShC;AAEK,MAAM,oBAAoB,GAAG,CAAC,WAAmB,EAAsB,EAAE;IAC9E,QAAQ,WAAW,EAAE;QACrB,KAAK,YAAY;YACf,OAAO,eAAM,CAAC,UAAU,CAAC;QAC3B,KAAK,kBAAkB;YACrB,OAAO,eAAM,CAAC,IAAI,CAAC;QACrB,KAAK,iBAAiB;YACpB,OAAO,eAAM,CAAC,GAAG,CAAC;QACpB;YACE,OAAO,SAAS,CAAC;KAClB;AACH,CAAC,CAAC;AAXW,QAAA,oBAAoB,wBAW/B","sourcesContent":["import { Format } from '../enum/format';\n\nexport const contentTypeFromFormat = (format: Format): string => {\n  switch (format) {\n  case Format.Delineated:\n    return 'text/plain';\n  case Format.Json:\n    return 'application/json';\n  case Format.Xml:\n    return 'application/xml';\n  }\n};\n\nexport const formatFromHeaderType = (contentType: string): Format | undefined => {\n  switch (contentType) {\n  case 'text/plain':\n    return Format.Delineated;\n  case 'application/json':\n    return Format.Json;\n  case 'application/xml':\n    return Format.Xml;\n  default:\n    return undefined;\n  }\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2d168dfbd62c077fc2ba2192ecf00ac26ec9fb90","contentHash":"c3a4fb7031ecdc57b629e41a36033a9bfd33e8e1144ef39b54cf7273143fb9a0"},"/Users/hoanguyen/repos/personal/orderful/src/middlewares/validators/format-req.validator.spec.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/middlewares/validators/format-req.validator.spec.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":14},"end":{"line":4,"column":30}},"3":{"start":{"line":5,"column":21},"end":{"line":5,"column":54}},"4":{"start":{"line":6,"column":31},"end":{"line":6,"column":64}},"5":{"start":{"line":7,"column":21},"end":{"line":17,"column":1}},"6":{"start":{"line":18,"column":0},"end":{"line":40,"column":3}},"7":{"start":{"line":19,"column":4},"end":{"line":23,"column":7}},"8":{"start":{"line":20,"column":21},"end":{"line":20,"column":50}},"9":{"start":{"line":21,"column":19},"end":{"line":21,"column":101}},"10":{"start":{"line":21,"column":25},"end":{"line":21,"column":101}},"11":{"start":{"line":21,"column":96},"end":{"line":21,"column":100}},"12":{"start":{"line":22,"column":8},"end":{"line":22,"column":74}},"13":{"start":{"line":24,"column":4},"end":{"line":28,"column":7}},"14":{"start":{"line":25,"column":21},"end":{"line":25,"column":48}},"15":{"start":{"line":26,"column":19},"end":{"line":26,"column":101}},"16":{"start":{"line":26,"column":25},"end":{"line":26,"column":101}},"17":{"start":{"line":26,"column":96},"end":{"line":26,"column":100}},"18":{"start":{"line":27,"column":8},"end":{"line":27,"column":74}},"19":{"start":{"line":29,"column":4},"end":{"line":33,"column":7}},"20":{"start":{"line":30,"column":21},"end":{"line":30,"column":72}},"21":{"start":{"line":31,"column":19},"end":{"line":31,"column":101}},"22":{"start":{"line":31,"column":25},"end":{"line":31,"column":101}},"23":{"start":{"line":31,"column":96},"end":{"line":31,"column":100}},"24":{"start":{"line":32,"column":8},"end":{"line":32,"column":74}},"25":{"start":{"line":34,"column":4},"end":{"line":39,"column":7}},"26":{"start":{"line":35,"column":21},"end":{"line":35,"column":33}},"27":{"start":{"line":36,"column":19},"end":{"line":36,"column":109}},"28":{"start":{"line":36,"column":25},"end":{"line":36,"column":109}},"29":{"start":{"line":37,"column":8},"end":{"line":37,"column":78}},"30":{"start":{"line":38,"column":8},"end":{"line":38,"column":53}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":18,"column":35},"end":{"line":18,"column":36}},"loc":{"start":{"line":18,"column":41},"end":{"line":40,"column":1}},"line":18},"1":{"name":"(anonymous_1)","decl":{"start":{"line":19,"column":68},"end":{"line":19,"column":69}},"loc":{"start":{"line":19,"column":74},"end":{"line":23,"column":5}},"line":19},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":19},"end":{"line":21,"column":20}},"loc":{"start":{"line":21,"column":25},"end":{"line":21,"column":101}},"line":21},"3":{"name":"(anonymous_3)","decl":{"start":{"line":21,"column":90},"end":{"line":21,"column":91}},"loc":{"start":{"line":21,"column":96},"end":{"line":21,"column":100}},"line":21},"4":{"name":"(anonymous_4)","decl":{"start":{"line":24,"column":66},"end":{"line":24,"column":67}},"loc":{"start":{"line":24,"column":72},"end":{"line":28,"column":5}},"line":24},"5":{"name":"(anonymous_5)","decl":{"start":{"line":26,"column":19},"end":{"line":26,"column":20}},"loc":{"start":{"line":26,"column":25},"end":{"line":26,"column":101}},"line":26},"6":{"name":"(anonymous_6)","decl":{"start":{"line":26,"column":90},"end":{"line":26,"column":91}},"loc":{"start":{"line":26,"column":96},"end":{"line":26,"column":100}},"line":26},"7":{"name":"(anonymous_7)","decl":{"start":{"line":29,"column":96},"end":{"line":29,"column":97}},"loc":{"start":{"line":29,"column":102},"end":{"line":33,"column":5}},"line":29},"8":{"name":"(anonymous_8)","decl":{"start":{"line":31,"column":19},"end":{"line":31,"column":20}},"loc":{"start":{"line":31,"column":25},"end":{"line":31,"column":101}},"line":31},"9":{"name":"(anonymous_9)","decl":{"start":{"line":31,"column":90},"end":{"line":31,"column":91}},"loc":{"start":{"line":31,"column":96},"end":{"line":31,"column":100}},"line":31},"10":{"name":"(anonymous_10)","decl":{"start":{"line":34,"column":44},"end":{"line":34,"column":45}},"loc":{"start":{"line":34,"column":50},"end":{"line":39,"column":5}},"line":34},"11":{"name":"(anonymous_11)","decl":{"start":{"line":36,"column":19},"end":{"line":36,"column":20}},"loc":{"start":{"line":36,"column":25},"end":{"line":36,"column":109}},"line":36}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":1,"19":1,"20":1,"21":1,"22":1,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1},"f":{"0":1,"1":1,"2":1,"3":0,"4":1,"5":1,"6":0,"7":1,"8":1,"9":0,"10":1,"11":1},"b":{},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/middlewares/validators/format-req.validator.spec.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/middlewares/validators/format-req.validator.spec.ts"],"names":[],"mappings":";;AAAA,+BAA8B;AAE9B,+BAA+B;AAC/B,uDAA6D;AAC7D,iEAA4D;AAE5D,MAAM,YAAY,GAAG;IACnB,MAAM,EAAE;QACN,QAAQ,EAAE,YAAY;QACtB,eAAe,EAAE,GAAG;QACpB,eAAe,EAAE,GAAG;KACrB;IACD,IAAI,EAAE;QACJ,QAAQ,EAAE,MAAM;KACjB;IACD,UAAU,EAAE,yEAAyE;CACtF,CAAC;AAEF,QAAQ,CAAC,wBAAwB,EAAE,GAAG,EAAE;IACtC,EAAE,CAAC,2DAA2D,EAAE,GAAG,EAAE;QACnE,MAAM,IAAI,GAAG,EAAC,GAAG,YAAY,EAAE,IAAI,EAAE,EAAE,EAAC,CAAC;QACzC,MAAM,EAAE,GAAG,GAAG,EAAE,CAAC,yCAAkB,CAAC,QAAQ,CAC1C,EAAE,IAAI,EAAa,EACnB,EAAc,EACd,GAAG,EAAE,CAAC,IAAI,CACX,CAAC;QAEF,IAAA,aAAM,EAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,gCAAmB,CAAC,CAAC;IAC3C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,yDAAyD,EAAE,GAAG,EAAE;QACjE,MAAM,IAAI,GAAG,EAAC,GAAG,YAAY,EAAE,EAAE,EAAE,EAAE,EAAC,CAAC;QACvC,MAAM,EAAE,GAAG,GAAG,EAAE,CAAC,yCAAkB,CAAC,QAAQ,CAC1C,EAAE,IAAI,EAAa,EACnB,EAAc,EACd,GAAG,EAAE,CAAC,IAAI,CACX,CAAC;QAEF,IAAA,aAAM,EAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,gCAAmB,CAAC,CAAC;IAC3C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,uFAAuF,EAAE,GAAG,EAAE;QAC/F,MAAM,IAAI,GAAG,EAAC,GAAG,YAAY,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,YAAY,EAAE,EAAC,CAAC;QAC/D,MAAM,EAAE,GAAG,GAAG,EAAE,CAAC,yCAAkB,CAAC,QAAQ,CAC1C,EAAE,IAAI,EAAa,EACnB,EAAc,EACd,GAAG,EAAE,CAAC,IAAI,CACX,CAAC;QAEF,IAAA,aAAM,EAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,gCAAmB,CAAC,CAAC;IAC3C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,mCAAmC,EAAE,GAAG,EAAE;QAC3C,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;QAC1B,MAAM,EAAE,GAAG,GAAG,EAAE,CAAC,yCAAkB,CAAC,QAAQ,CAC1C,EAAE,IAAI,EAAE,YAAY,EAAa,EACjC,EAAc,EACd,IAAI,CACL,CAAC;QAEF,IAAA,aAAM,EAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,gCAAmB,CAAC,CAAC;QAC7C,IAAA,aAAM,EAAC,IAAI,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;IACnC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { expect } from 'chai';\nimport { Request, Response } from 'express';\nimport * as sinon from 'sinon';\nimport { BadRequestException } from '../../utils/exceptions';\nimport { formatReqValidator } from './format-req.validator';\n\nconst standardBody = {\n  'from': {\n    'format': 'delineated',\n    'lineSeparator': '~',\n    'itemSeparator': '*'\n  },\n  'to': {\n    'format': 'json'\n  },\n  'document': 'ProductID* 4* 8* 15* 16*23~AddressID* 42* 108*3* 14 ~ContactID* 59* 26~'\n};\n\ndescribe('FormatRequestValidator', () => {\n  it('should throw BadRequestException if from value is invalid', () => {\n    const body = {...standardBody, from: ''};\n    const fn = () => formatReqValidator.validate(\n      { body } as Request,\n      {} as Response,\n      () => null,\n    );\n\n    expect(fn).to.throw(BadRequestException);\n  });\n\n  it('should throw BadRequestException if to value is invalid', () => {\n    const body = {...standardBody, to: ''};\n    const fn = () => formatReqValidator.validate(\n      { body } as Request,\n      {} as Response,\n      () => null,\n    );\n\n    expect(fn).to.throw(BadRequestException);\n  });\n\n  it('should throw BadRequestException if itemSeparator and lineSeparator are not specified', () => {\n    const body = {...standardBody, from: { format: 'delineated' }};\n    const fn = () => formatReqValidator.validate(\n      { body } as Request,\n      {} as Response,\n      () => null,\n    );\n\n    expect(fn).to.throw(BadRequestException);\n  });\n\n  it('should call next if body is valid', () => {\n    const next = sinon.stub();\n    const fn = () => formatReqValidator.validate(\n      { body: standardBody } as Request,\n      {} as Response,\n      next,\n    );\n\n    expect(fn).to.not.throw(BadRequestException);\n    expect(next).to.have.been.called;\n  });\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5f5cfe96bdb775e4c9f1962e7412c7d3985a654f","contentHash":"1ab846c2e43065213c3a5488e481c9fad5cf48ca17fd840b4be89414e9fad796"},"/Users/hoanguyen/repos/personal/orderful/src/middlewares/validators/format-req.validator.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/middlewares/validators/format-req.validator.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":45}},"3":{"start":{"line":5,"column":21},"end":{"line":5,"column":54}},"4":{"start":{"line":6,"column":24},"end":{"line":16,"column":1}},"5":{"start":{"line":7,"column":53},"end":{"line":7,"column":60}},"6":{"start":{"line":8,"column":4},"end":{"line":12,"column":5}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":69}},"8":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"9":{"start":{"line":14,"column":8},"end":{"line":14,"column":123}},"10":{"start":{"line":17,"column":22},"end":{"line":22,"column":1}},"11":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"12":{"start":{"line":19,"column":8},"end":{"line":19,"column":15}},"13":{"start":{"line":21,"column":4},"end":{"line":21,"column":76}},"14":{"start":{"line":23,"column":0},"end":{"line":31,"column":2}},"15":{"start":{"line":25,"column":39},"end":{"line":25,"column":47}},"16":{"start":{"line":26,"column":8},"end":{"line":26,"column":30}},"17":{"start":{"line":27,"column":8},"end":{"line":27,"column":28}},"18":{"start":{"line":28,"column":8},"end":{"line":28,"column":32}},"19":{"start":{"line":29,"column":8},"end":{"line":29,"column":15}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":24},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":37},"end":{"line":16,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":22},"end":{"line":17,"column":23}},"loc":{"start":{"line":17,"column":31},"end":{"line":22,"column":1}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":24,"column":14},"end":{"line":24,"column":15}},"loc":{"start":{"line":24,"column":34},"end":{"line":30,"column":5}},"line":24}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":4},"end":{"line":12,"column":5}},"type":"if","locations":[{"start":{"line":8,"column":4},"end":{"line":12,"column":5}},{"start":{"line":8,"column":4},"end":{"line":12,"column":5}}],"line":8},"1":{"loc":{"start":{"line":8,"column":8},"end":{"line":10,"column":38}},"type":"binary-expr","locations":[{"start":{"line":8,"column":8},"end":{"line":8,"column":45}},{"start":{"line":9,"column":8},"end":{"line":9,"column":39}},{"start":{"line":10,"column":8},"end":{"line":10,"column":38}}],"line":8},"2":{"loc":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},{"start":{"line":13,"column":4},"end":{"line":15,"column":5}}],"line":13},"3":{"loc":{"start":{"line":13,"column":8},"end":{"line":13,"column":83}},"type":"binary-expr","locations":[{"start":{"line":13,"column":8},"end":{"line":13,"column":45}},{"start":{"line":13,"column":50},"end":{"line":13,"column":64}},{"start":{"line":13,"column":68},"end":{"line":13,"column":82}}],"line":13},"4":{"loc":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},{"start":{"line":18,"column":4},"end":{"line":20,"column":5}}],"line":18},"5":{"loc":{"start":{"line":18,"column":8},"end":{"line":18,"column":56}},"type":"binary-expr","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":31}},{"start":{"line":18,"column":35},"end":{"line":18,"column":56}}],"line":18}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":6,"6":6,"7":2,"8":4,"9":1,"10":1,"11":1,"12":1,"13":0,"14":1,"15":4,"16":4,"17":2,"18":1,"19":1},"f":{"0":6,"1":1,"2":4},"b":{"0":[2,4],"1":[6,3,2],"2":[1,3],"3":[4,3,2],"4":[1,0],"5":[1,0]},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/middlewares/validators/format-req.validator.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/middlewares/validators/format-req.validator.ts"],"names":[],"mappings":";;;AACA,8CAA2C;AAE3C,uDAA6D;AAE7D,MAAM,eAAe,GAAG,CAAC,OAAsB,EAAQ,EAAE;IACvD,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,GAAG,OAAO,CAAC;IAEzD,IAAI,MAAM,KAAK,eAAM,CAAC,UAAU;QAC9B,MAAM,KAAK,eAAM,CAAC,IAAI;QACtB,MAAM,KAAK,eAAM,CAAC,GAAG,EAAE;QACvB,MAAM,IAAI,gCAAmB,CAAC,gBAAgB,CAAC,CAAC;KACjD;IAED,IAAI,MAAM,KAAK,eAAM,CAAC,UAAU,IAAI,CAAC,CAAC,aAAa,IAAI,CAAC,aAAa,CAAC,EAAE;QACtE,MAAM,IAAI,gCAAmB,CAAC,sEAAsE,CAAC,CAAC;KACvG;AACH,CAAC,CAAC;AAEF,MAAM,aAAa,GAAG,CAAC,GAAY,EAAQ,EAAE;IAC3C,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,YAAY,MAAM,EAAE;QACpD,OAAO;KACR;IACD,MAAM,IAAI,gCAAmB,CAAC,2BAA2B,CAAC,CAAC;AAC7D,CAAC,CAAC;AAEW,QAAA,kBAAkB,GAAG;IAChC,QAAQ,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAQ,EAAE;QAClE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QACxC,eAAe,CAAC,IAAI,CAAC,CAAC;QACtB,eAAe,CAAC,EAAE,CAAC,CAAC;QACpB,aAAa,CAAC,QAAQ,CAAC,CAAC;QAExB,IAAI,EAAE,CAAC;IACT,CAAC;CACF,CAAC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport { Format } from '../../enum/format';\nimport { FormatOptions } from '../../interfaces/format-options';\nimport { BadRequestException } from '../../utils/exceptions';\n\nconst validateOptions = (options: FormatOptions): void => {\n  const { format, itemSeparator, lineSeparator } = options;\n\n  if (format !== Format.Delineated &&\n    format !== Format.Json &&\n    format !== Format.Xml) {\n    throw new BadRequestException('Invalid Format');\n  }\n\n  if (format === Format.Delineated && (!lineSeparator || !itemSeparator)) {\n    throw new BadRequestException('Delineated Format requires lineSeparator and itemSeparator specified');\n  }\n};\n\nconst validateValue = (val: unknown): void => {\n  if (typeof val === 'string' || val instanceof String) {\n    return;\n  }\n  throw new BadRequestException('document must be a string');\n};\n\nexport const formatReqValidator = {\n  validate: (req: Request, res: Response, next: NextFunction): void => {\n    const { from, to, document } = req.body;\n    validateOptions(from);\n    validateOptions(to);\n    validateValue(document);\n\n    next();\n  }\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f3a3f2931cfab3ecdbf9eebcddd895c063b82da6","contentHash":"de018308f57e5c4f4cd869ebd9c4bb2c8fda36b5c5b316aa954ecc778648004b"},"/Users/hoanguyen/repos/personal/orderful/src/services/core-formatter.spec.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/services/core-formatter.spec.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":42}},"3":{"start":{"line":5,"column":21},"end":{"line":5,"column":51}},"4":{"start":{"line":6,"column":25},"end":{"line":6,"column":52}},"5":{"start":{"line":7,"column":14},"end":{"line":7,"column":30}},"6":{"start":{"line":8,"column":18},"end":{"line":8,"column":39}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":27}},"8":{"start":{"line":10,"column":0},"end":{"line":67,"column":3}},"9":{"start":{"line":11,"column":20},"end":{"line":11,"column":41}},"10":{"start":{"line":12,"column":36},"end":{"line":15,"column":5}},"11":{"start":{"line":16,"column":30},"end":{"line":19,"column":5}},"12":{"start":{"line":20,"column":29},"end":{"line":23,"column":5}},"13":{"start":{"line":24,"column":22},"end":{"line":24,"column":118}},"14":{"start":{"line":25,"column":4},"end":{"line":45,"column":7}},"15":{"start":{"line":26,"column":8},"end":{"line":28,"column":11}},"16":{"start":{"line":27,"column":12},"end":{"line":27,"column":35}},"17":{"start":{"line":29,"column":8},"end":{"line":32,"column":11}},"18":{"start":{"line":30,"column":23},"end":{"line":30,"column":72}},"19":{"start":{"line":30,"column":29},"end":{"line":30,"column":72}},"20":{"start":{"line":31,"column":12},"end":{"line":31,"column":78}},"21":{"start":{"line":33,"column":8},"end":{"line":36,"column":11}},"22":{"start":{"line":34,"column":12},"end":{"line":34,"column":75}},"23":{"start":{"line":35,"column":12},"end":{"line":35,"column":86}},"24":{"start":{"line":37,"column":8},"end":{"line":40,"column":11}},"25":{"start":{"line":38,"column":12},"end":{"line":38,"column":69}},"26":{"start":{"line":39,"column":12},"end":{"line":39,"column":80}},"27":{"start":{"line":41,"column":8},"end":{"line":44,"column":11}},"28":{"start":{"line":42,"column":12},"end":{"line":42,"column":68}},"29":{"start":{"line":43,"column":12},"end":{"line":43,"column":79}},"30":{"start":{"line":46,"column":4},"end":{"line":66,"column":7}},"31":{"start":{"line":47,"column":8},"end":{"line":49,"column":11}},"32":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"33":{"start":{"line":50,"column":8},"end":{"line":53,"column":11}},"34":{"start":{"line":51,"column":23},"end":{"line":51,"column":96}},"35":{"start":{"line":51,"column":29},"end":{"line":51,"column":96}},"36":{"start":{"line":52,"column":12},"end":{"line":52,"column":78}},"37":{"start":{"line":54,"column":8},"end":{"line":57,"column":11}},"38":{"start":{"line":55,"column":12},"end":{"line":55,"column":76}},"39":{"start":{"line":56,"column":12},"end":{"line":56,"column":90}},"40":{"start":{"line":58,"column":8},"end":{"line":61,"column":11}},"41":{"start":{"line":59,"column":12},"end":{"line":59,"column":70}},"42":{"start":{"line":60,"column":12},"end":{"line":60,"column":84}},"43":{"start":{"line":62,"column":8},"end":{"line":65,"column":11}},"44":{"start":{"line":63,"column":12},"end":{"line":63,"column":69}},"45":{"start":{"line":64,"column":12},"end":{"line":64,"column":83}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":27},"end":{"line":10,"column":28}},"loc":{"start":{"line":10,"column":33},"end":{"line":67,"column":1}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":25,"column":22},"end":{"line":25,"column":23}},"loc":{"start":{"line":25,"column":28},"end":{"line":45,"column":5}},"line":25},"2":{"name":"(anonymous_2)","decl":{"start":{"line":26,"column":19},"end":{"line":26,"column":20}},"loc":{"start":{"line":26,"column":25},"end":{"line":28,"column":9}},"line":26},"3":{"name":"(anonymous_3)","decl":{"start":{"line":29,"column":68},"end":{"line":29,"column":69}},"loc":{"start":{"line":29,"column":74},"end":{"line":32,"column":9}},"line":29},"4":{"name":"(anonymous_4)","decl":{"start":{"line":30,"column":23},"end":{"line":30,"column":24}},"loc":{"start":{"line":30,"column":29},"end":{"line":30,"column":72}},"line":30},"5":{"name":"(anonymous_5)","decl":{"start":{"line":33,"column":88},"end":{"line":33,"column":89}},"loc":{"start":{"line":33,"column":94},"end":{"line":36,"column":9}},"line":33},"6":{"name":"(anonymous_6)","decl":{"start":{"line":37,"column":76},"end":{"line":37,"column":77}},"loc":{"start":{"line":37,"column":82},"end":{"line":40,"column":9}},"line":37},"7":{"name":"(anonymous_7)","decl":{"start":{"line":41,"column":74},"end":{"line":41,"column":75}},"loc":{"start":{"line":41,"column":80},"end":{"line":44,"column":9}},"line":41},"8":{"name":"(anonymous_8)","decl":{"start":{"line":46,"column":26},"end":{"line":46,"column":27}},"loc":{"start":{"line":46,"column":32},"end":{"line":66,"column":5}},"line":46},"9":{"name":"(anonymous_9)","decl":{"start":{"line":47,"column":19},"end":{"line":47,"column":20}},"loc":{"start":{"line":47,"column":25},"end":{"line":49,"column":9}},"line":47},"10":{"name":"(anonymous_10)","decl":{"start":{"line":50,"column":68},"end":{"line":50,"column":69}},"loc":{"start":{"line":50,"column":74},"end":{"line":53,"column":9}},"line":50},"11":{"name":"(anonymous_11)","decl":{"start":{"line":51,"column":23},"end":{"line":51,"column":24}},"loc":{"start":{"line":51,"column":29},"end":{"line":51,"column":96}},"line":51},"12":{"name":"(anonymous_12)","decl":{"start":{"line":54,"column":92},"end":{"line":54,"column":93}},"loc":{"start":{"line":54,"column":98},"end":{"line":57,"column":9}},"line":54},"13":{"name":"(anonymous_13)","decl":{"start":{"line":58,"column":80},"end":{"line":58,"column":81}},"loc":{"start":{"line":58,"column":86},"end":{"line":61,"column":9}},"line":58},"14":{"name":"(anonymous_14)","decl":{"start":{"line":62,"column":78},"end":{"line":62,"column":79}},"loc":{"start":{"line":62,"column":84},"end":{"line":65,"column":9}},"line":62}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":4,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":4,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1},"f":{"0":1,"1":1,"2":4,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":4,"10":1,"11":1,"12":1,"13":1,"14":1},"b":{},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/services/core-formatter.spec.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/services/core-formatter.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import { expect, use } from 'chai';\nimport { Format } from '../enum/format';\nimport { Document } from '../interfaces/document';\nimport { Formatter } from '../interfaces/formatter';\nimport { BadRequestException } from '../utils/exceptions';\nimport { CoreFormatter } from './core-formatter';\nimport * as sinon from 'sinon';\nimport * as sinonChai from 'sinon-chai';\n\nuse(sinonChai);\n\ndescribe('Core Formatter', () => {\n  const sandbox = sinon.createSandbox();\n  const mockDelineatedFormatter: Formatter = {\n    parse: sandbox.stub().returns({} as Document),\n    stringify: sandbox.stub().returns(''),\n  };\n\n  const mockJsonFormatter: Formatter = {\n    parse: sandbox.stub().returns({} as Document),\n    stringify: sandbox.stub().returns(''),\n  };\n\n  const mockXmlFormatter: Formatter = {\n    parse: sandbox.stub().returns({} as Document),\n    stringify: sandbox.stub().returns(''),\n  };\n\n  const formatter = new CoreFormatter(\n    mockDelineatedFormatter,\n    mockJsonFormatter,\n    mockXmlFormatter,\n  );\n\n  describe('parse', () => {\n    beforeEach(() => {\n      sandbox.resetHistory();\n    });\n\n    it('should throw BadRequestException if format is invalid', () => {\n      const fn = () => formatter.parse(\n        'doc', \n        { format: 'wrong' as Format }\n      );\n      expect(fn).to.throw(BadRequestException);\n    });\n\n    it('should parse using delineated formatter if Format.Delineated is specified', () => {\n      formatter.parse('doc' , { format: Format.Delineated} );\n      expect(mockDelineatedFormatter.parse).to.have.been.calledOnce;\n    });\n\n    it('should parse using json formatter if Format.Json is specified', () => {\n      formatter.parse('doc' , { format: Format.Json} );\n      expect(mockJsonFormatter.parse).to.have.been.calledOnce;\n    });\n\n    it('should parse using xml formatter if Format.Xml is specified', () => {\n      formatter.parse('doc' , { format: Format.Xml} );\n      expect(mockXmlFormatter.parse).to.have.been.calledOnce;\n    });\n  });\n\n  describe('stringify', () => {\n    beforeEach(() => {\n      sandbox.resetHistory();\n    });\n\n    it('should throw BadRequestException if format is invalid', () => {\n      const fn = () => formatter.stringify(\n        { doc: { doc1: 'json' } }, \n        { format: 'wrong' as Format },\n      );\n      expect(fn).to.throw(BadRequestException);\n    });\n\n    it('should stringify using delineated formatter if Format.Delineated is specified', () => {\n      formatter.stringify({} , { format: Format.Delineated} );\n      expect(mockDelineatedFormatter.stringify).to.have.been.calledOnce;\n    });\n\n    it('should stringify using json formatter if Format.Json is specified', () => {\n      formatter.stringify({} , { format: Format.Json} );\n      expect(mockJsonFormatter.stringify).to.have.been.calledOnce;\n    });\n\n    it('should stringify using xml formatter if Format.Xml is specified', () => {\n      formatter.stringify({} , { format: Format.Xml} );\n      expect(mockXmlFormatter.stringify).to.have.been.calledOnce;\n    });\n  });\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d3ef7ce0ba90eb6abf231023198f25c470010d38","contentHash":"c67ab80f214012e587628917b3852ed55b36f45b935b1c600771f701f250923c"},"/Users/hoanguyen/repos/personal/orderful/src/services/core-formatter.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/services/core-formatter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":42}},"3":{"start":{"line":5,"column":21},"end":{"line":5,"column":51}},"4":{"start":{"line":6,"column":38},"end":{"line":6,"column":78}},"5":{"start":{"line":7,"column":25},"end":{"line":7,"column":52}},"6":{"start":{"line":8,"column":24},"end":{"line":8,"column":50}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":55}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":43}},"9":{"start":{"line":13,"column":8},"end":{"line":13,"column":41}},"10":{"start":{"line":16,"column":26},"end":{"line":16,"column":58}},"11":{"start":{"line":17,"column":8},"end":{"line":17,"column":45}},"12":{"start":{"line":20,"column":26},"end":{"line":20,"column":58}},"13":{"start":{"line":21,"column":8},"end":{"line":21,"column":49}},"14":{"start":{"line":24,"column":8},"end":{"line":33,"column":9}},"15":{"start":{"line":26,"column":16},"end":{"line":26,"column":48}},"16":{"start":{"line":28,"column":16},"end":{"line":28,"column":42}},"17":{"start":{"line":30,"column":16},"end":{"line":30,"column":41}},"18":{"start":{"line":32,"column":16},"end":{"line":32,"column":96}},"19":{"start":{"line":36,"column":0},"end":{"line":36,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":206},"end":{"line":14,"column":5}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":24},"end":{"line":18,"column":5}},"line":15},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":28},"end":{"line":22,"column":5}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":24},"end":{"line":34,"column":5}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":99}},"type":"default-arg","locations":[{"start":{"line":10,"column":38},"end":{"line":10,"column":99}}],"line":10},"1":{"loc":{"start":{"line":10,"column":101},"end":{"line":10,"column":153}},"type":"default-arg","locations":[{"start":{"line":10,"column":117},"end":{"line":10,"column":153}}],"line":10},"2":{"loc":{"start":{"line":10,"column":155},"end":{"line":10,"column":204}},"type":"default-arg","locations":[{"start":{"line":10,"column":170},"end":{"line":10,"column":204}}],"line":10},"3":{"loc":{"start":{"line":24,"column":8},"end":{"line":33,"column":9}},"type":"switch","locations":[{"start":{"line":25,"column":12},"end":{"line":26,"column":48}},{"start":{"line":27,"column":12},"end":{"line":28,"column":42}},{"start":{"line":29,"column":12},"end":{"line":30,"column":41}},{"start":{"line":31,"column":12},"end":{"line":32,"column":96}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":4,"11":3,"12":4,"13":3,"14":8,"15":2,"16":2,"17":2,"18":2,"19":1},"f":{"0":1,"1":4,"2":4,"3":8},"b":{"0":[0],"1":[0],"2":[0],"3":[2,2,2,2]},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/services/core-formatter.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/services/core-formatter.ts"],"names":[],"mappings":";;;AAAA,2CAAwC;AAIxC,oDAA0D;AAC1D,+EAA0E;AAC1E,qDAAiD;AACjD,mDAA+C;AAE/C,MAAa,aAAa;IACxB,YACmB,sBAAiC,IAAI,uDAAyB,EAAE,EAChE,gBAA2B,IAAI,8BAAa,EAAE,EAC9C,eAA0B,IAAI,4BAAY,EAAE;QAF5C,wBAAmB,GAAnB,mBAAmB,CAA6C;QAChE,kBAAa,GAAb,aAAa,CAAiC;QAC9C,iBAAY,GAAZ,YAAY,CAAgC;IAC5D,CAAC;IAEJ,KAAK,CAAC,GAAW,EAAE,OAAsB;QACvC,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACnD,OAAO,SAAS,CAAC,KAAK,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IACvC,CAAC;IAED,SAAS,CAAC,GAAa,EAAE,OAAsB;QAC7C,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACnD,OAAO,SAAS,CAAC,SAAS,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IAC3C,CAAC;IAEO,WAAW,CAAC,MAAc;QAChC,QAAQ,MAAM,EAAE;YAChB,KAAK,eAAM,CAAC,UAAU;gBACpB,OAAO,IAAI,CAAC,mBAAmB,CAAC;YAClC,KAAK,eAAM,CAAC,IAAI;gBACd,OAAO,IAAI,CAAC,aAAa,CAAC;YAC5B,KAAK,eAAM,CAAC,GAAG;gBACb,OAAO,IAAI,CAAC,YAAY,CAAC;YAC3B;gBACE,MAAM,IAAI,gCAAmB,CAAC,UAAU,MAAM,mBAAmB,CAAC,CAAC;SACpE;IACH,CAAC;CACF;AA7BD,sCA6BC","sourcesContent":["import { Format } from '../enum/format';\nimport { Document } from '../interfaces/document';\nimport { FormatOptions } from '../interfaces/format-options';\nimport { Formatter } from '../interfaces/formatter';\nimport { BadRequestException } from '../utils/exceptions';\nimport { DelineatedStringFormatter } from './delineated-string-formatter';\nimport { JsonFormatter } from './json-formatter';\nimport { XmlFormatter } from './xml-formatter';\n\nexport class CoreFormatter {\n  constructor(\n    private readonly delineatedFormatter: Formatter = new DelineatedStringFormatter(),\n    private readonly jsonFormatter: Formatter = new JsonFormatter(),\n    private readonly xmlFormatter: Formatter = new XmlFormatter(),\n  ) {}\n\n  parse(str: string, options: FormatOptions): Document {\n    const formatter = this.formatterOf(options.format);\n    return formatter.parse(str, options);\n  }\n\n  stringify(doc: Document, options: FormatOptions): string {\n    const formatter = this.formatterOf(options.format);\n    return formatter.stringify(doc, options);\n  }\n\n  private formatterOf(format: Format): Formatter {\n    switch (format) {\n    case Format.Delineated:\n      return this.delineatedFormatter;\n    case Format.Json:\n      return this.jsonFormatter;\n    case Format.Xml:\n      return this.xmlFormatter;\n    default:\n      throw new BadRequestException(`Format ${format} is not supported`);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f555e78278d425af4dac31ae4ad48bbced617788","contentHash":"04ac913217bf2c4cfac962c5932eafab78404cbf3cc0f27227871bef7be59522"},"/Users/hoanguyen/repos/personal/orderful/src/services/delineated-string-formatter.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/services/delineated-string-formatter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":43}},"2":{"start":{"line":4,"column":21},"end":{"line":4,"column":51}},"3":{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},"4":{"start":{"line":8,"column":12},"end":{"line":8,"column":130}},"5":{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},"6":{"start":{"line":11,"column":12},"end":{"line":11,"column":89}},"7":{"start":{"line":13,"column":20},"end":{"line":13,"column":22}},"8":{"start":{"line":14,"column":22},"end":{"line":14,"column":54}},"9":{"start":{"line":16,"column":31},"end":{"line":16,"column":40}},"10":{"start":{"line":17,"column":8},"end":{"line":32,"column":11}},"11":{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},"12":{"start":{"line":20,"column":16},"end":{"line":20,"column":23}},"13":{"start":{"line":22,"column":29},"end":{"line":22,"column":106}},"14":{"start":{"line":23,"column":29},"end":{"line":23,"column":40}},"15":{"start":{"line":24,"column":26},"end":{"line":24,"column":102}},"16":{"start":{"line":25,"column":12},"end":{"line":25,"column":48}},"17":{"start":{"line":27,"column":27},"end":{"line":27,"column":49}},"18":{"start":{"line":28,"column":12},"end":{"line":28,"column":29}},"19":{"start":{"line":29,"column":12},"end":{"line":31,"column":13}},"20":{"start":{"line":29,"column":25},"end":{"line":29,"column":26}},"21":{"start":{"line":30,"column":16},"end":{"line":30,"column":61}},"22":{"start":{"line":34,"column":8},"end":{"line":34,"column":55}},"23":{"start":{"line":37,"column":8},"end":{"line":39,"column":9}},"24":{"start":{"line":38,"column":12},"end":{"line":38,"column":134}},"25":{"start":{"line":40,"column":21},"end":{"line":40,"column":23}},"26":{"start":{"line":41,"column":8},"end":{"line":48,"column":11}},"27":{"start":{"line":42,"column":12},"end":{"line":42,"column":57}},"28":{"start":{"line":43,"column":25},"end":{"line":43,"column":42}},"29":{"start":{"line":44,"column":12},"end":{"line":46,"column":15}},"30":{"start":{"line":45,"column":16},"end":{"line":45,"column":63}},"31":{"start":{"line":47,"column":12},"end":{"line":47,"column":44}},"32":{"start":{"line":49,"column":8},"end":{"line":49,"column":22}},"33":{"start":{"line":56,"column":8},"end":{"line":67,"column":15}},"34":{"start":{"line":58,"column":36},"end":{"line":58,"column":71}},"35":{"start":{"line":59,"column":34},"end":{"line":59,"column":111}},"36":{"start":{"line":60,"column":12},"end":{"line":65,"column":13}},"37":{"start":{"line":61,"column":16},"end":{"line":61,"column":54}},"38":{"start":{"line":64,"column":16},"end":{"line":64,"column":61}},"39":{"start":{"line":66,"column":12},"end":{"line":66,"column":26}},"40":{"start":{"line":74,"column":37},"end":{"line":74,"column":58}},"41":{"start":{"line":75,"column":8},"end":{"line":75,"column":101}},"42":{"start":{"line":78,"column":8},"end":{"line":78,"column":90}},"43":{"start":{"line":81,"column":0},"end":{"line":81,"column":62}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":24},"end":{"line":35,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":22},"end":{"line":17,"column":23}},"loc":{"start":{"line":17,"column":32},"end":{"line":32,"column":9}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":33},"end":{"line":50,"column":5}},"line":36},"3":{"name":"(anonymous_3)","decl":{"start":{"line":41,"column":38},"end":{"line":41,"column":39}},"loc":{"start":{"line":41,"column":51},"end":{"line":48,"column":9}},"line":41},"4":{"name":"(anonymous_4)","decl":{"start":{"line":44,"column":40},"end":{"line":44,"column":41}},"loc":{"start":{"line":44,"column":50},"end":{"line":46,"column":13}},"line":44},"5":{"name":"(anonymous_5)","decl":{"start":{"line":55,"column":4},"end":{"line":55,"column":5}},"loc":{"start":{"line":55,"column":44},"end":{"line":68,"column":5}},"line":55},"6":{"name":"(anonymous_6)","decl":{"start":{"line":56,"column":44},"end":{"line":56,"column":45}},"loc":{"start":{"line":56,"column":66},"end":{"line":67,"column":9}},"line":56},"7":{"name":"(anonymous_7)","decl":{"start":{"line":73,"column":4},"end":{"line":73,"column":5}},"loc":{"start":{"line":73,"column":35},"end":{"line":76,"column":5}},"line":73},"8":{"name":"(anonymous_8)","decl":{"start":{"line":77,"column":4},"end":{"line":77,"column":5}},"loc":{"start":{"line":77,"column":27},"end":{"line":79,"column":5}},"line":77}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},"type":"if","locations":[{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},{"start":{"line":7,"column":8},"end":{"line":9,"column":9}}],"line":7},"1":{"loc":{"start":{"line":7,"column":12},"end":{"line":7,"column":60}},"type":"binary-expr","locations":[{"start":{"line":7,"column":12},"end":{"line":7,"column":34}},{"start":{"line":7,"column":38},"end":{"line":7,"column":60}}],"line":7},"2":{"loc":{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},"type":"if","locations":[{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},{"start":{"line":10,"column":8},"end":{"line":12,"column":9}}],"line":10},"3":{"loc":{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},{"start":{"line":19,"column":12},"end":{"line":21,"column":13}}],"line":19},"4":{"loc":{"start":{"line":22,"column":40},"end":{"line":22,"column":105}},"type":"cond-expr","locations":[{"start":{"line":22,"column":97},"end":{"line":22,"column":99}},{"start":{"line":22,"column":102},"end":{"line":22,"column":105}}],"line":22},"5":{"loc":{"start":{"line":22,"column":40},"end":{"line":22,"column":94}},"type":"binary-expr","locations":[{"start":{"line":22,"column":40},"end":{"line":22,"column":77}},{"start":{"line":22,"column":81},"end":{"line":22,"column":94}}],"line":22},"6":{"loc":{"start":{"line":24,"column":27},"end":{"line":24,"column":97}},"type":"cond-expr","locations":[{"start":{"line":24,"column":91},"end":{"line":24,"column":93}},{"start":{"line":24,"column":96},"end":{"line":24,"column":97}}],"line":24},"7":{"loc":{"start":{"line":24,"column":27},"end":{"line":24,"column":88}},"type":"binary-expr","locations":[{"start":{"line":24,"column":27},"end":{"line":24,"column":71}},{"start":{"line":24,"column":75},"end":{"line":24,"column":88}}],"line":24},"8":{"loc":{"start":{"line":37,"column":8},"end":{"line":39,"column":9}},"type":"if","locations":[{"start":{"line":37,"column":8},"end":{"line":39,"column":9}},{"start":{"line":37,"column":8},"end":{"line":39,"column":9}}],"line":37},"9":{"loc":{"start":{"line":37,"column":12},"end":{"line":37,"column":60}},"type":"binary-expr","locations":[{"start":{"line":37,"column":12},"end":{"line":37,"column":34}},{"start":{"line":37,"column":38},"end":{"line":37,"column":60}}],"line":37},"10":{"loc":{"start":{"line":59,"column":34},"end":{"line":59,"column":111}},"type":"cond-expr","locations":[{"start":{"line":59,"column":105},"end":{"line":59,"column":107}},{"start":{"line":59,"column":110},"end":{"line":59,"column":111}}],"line":59},"11":{"loc":{"start":{"line":59,"column":34},"end":{"line":59,"column":102}},"type":"binary-expr","locations":[{"start":{"line":59,"column":34},"end":{"line":59,"column":85}},{"start":{"line":59,"column":89},"end":{"line":59,"column":102}}],"line":59},"12":{"loc":{"start":{"line":60,"column":12},"end":{"line":65,"column":13}},"type":"if","locations":[{"start":{"line":60,"column":12},"end":{"line":65,"column":13}},{"start":{"line":60,"column":12},"end":{"line":65,"column":13}}],"line":60},"13":{"loc":{"start":{"line":75,"column":34},"end":{"line":75,"column":99}},"type":"cond-expr","locations":[{"start":{"line":75,"column":61},"end":{"line":75,"column":81}},{"start":{"line":75,"column":84},"end":{"line":75,"column":99}}],"line":75},"14":{"loc":{"start":{"line":78,"column":15},"end":{"line":78,"column":89}},"type":"binary-expr","locations":[{"start":{"line":78,"column":15},"end":{"line":78,"column":50}},{"start":{"line":78,"column":54},"end":{"line":78,"column":89}}],"line":78}},"s":{"0":1,"1":1,"2":1,"3":3,"4":1,"5":2,"6":1,"7":1,"8":1,"9":1,"10":1,"11":62,"12":1,"13":61,"14":61,"15":61,"16":61,"17":61,"18":61,"19":61,"20":61,"21":345,"22":1,"23":2,"24":1,"25":1,"26":1,"27":61,"28":61,"29":61,"30":345,"31":61,"32":1,"33":1,"34":61,"35":61,"36":61,"37":47,"38":14,"39":61,"40":122,"41":122,"42":2,"43":1},"f":{"0":3,"1":62,"2":2,"3":61,"4":345,"5":1,"6":61,"7":122,"8":2},"b":{"0":[1,2],"1":[3,2],"2":[1,1],"3":[1,61],"4":[61,0],"5":[61,61],"6":[38,23],"7":[61,61],"8":[1,1],"9":[2,1],"10":[61,0],"11":[61,61],"12":[47,14],"13":[108,14],"14":[2,1]},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/services/delineated-string-formatter.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/services/delineated-string-formatter.ts"],"names":[],"mappings":"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","sourcesContent":["import { Document } from '../interfaces/document';\nimport { Formatter } from '../interfaces/formatter';\nimport { BadRequestException } from '../utils/exceptions';\n\nexport type DelineatedStringFormatterOptions = {\n  lineSeparator: string,\n  itemSeparator: string;\n};\n\nexport class DelineatedStringFormatter implements Formatter {\n  parse(str: string, options: DelineatedStringFormatterOptions): Document {\n    if (!options.lineSeparator || !options.itemSeparator) {\n      throw new BadRequestException(\n        'lineSeparator and itemSeparator are required to parse delineated format'\n      );\n    }\n\n    if (!this.validate(str, options)) {\n      throw new BadRequestException('Document is not a valid format');\n    }\n\n    const doc: Document = {};\n    const lines = str.split(options.lineSeparator);\n\n    // Map storing number of lines having the same name\n    const lineNamesCount = new Map<string, number>();\n\n    lines.forEach((line) => {\n      if (!line) {\n        return;\n      }\n\n      const elements = line.split(options.itemSeparator ?? '*');\n      const lineName = elements[0];\n      const index = (lineNamesCount.get(lineName) ?? 0) + 1;\n      lineNamesCount.set(lineName, index);\n\n      // Add an index in line ID to allow multiple lines with the same name\n      const lineId = `${lineName}_${index}`;\n\n      doc[lineId] = {};\n\n      for (let i = 1; i < elements.length; i++) {\n        doc[lineId][`${lineName}${i}`] = elements[i];\n      }\n    });\n\n    // Clean up redundant index\n    return this.cleanDocument(doc, lineNamesCount);\n  }\n\n  stringify(\n    document: Document,\n    options: DelineatedStringFormatterOptions,\n  ): string {\n    if (!options.lineSeparator || !options.itemSeparator) {\n      throw new BadRequestException(\n        'lineSeparator and itemSeparator are required to stringify delineated format'\n      );\n    }\n\n    let result = '';\n\n    Object.keys(document).forEach((lineKey) => {\n      result += this.lineNameWithoutIndex(lineKey);\n\n      const line = document[lineKey];\n\n      Object.values(line).forEach((item) => {\n        result = result + options.itemSeparator + item;\n      });\n\n      result += options.lineSeparator;\n    });\n\n    return result;\n  }\n\n  /*\n  Clean up redundant index from line name while preserving its order in the document\n  For example, POC(1) will be simplified to POC if there is only one instance\n   */\n  private cleanDocument(document: Document, lineNamesCount: Map<string, number>): Document {\n    return Object.keys(document).reduce((result, lineName) => {\n      const lineNameWoIndex = this.lineNameWithoutIndex(lineName);\n      const lineNameCount = lineNamesCount.get(lineNameWoIndex) ?? 0;\n\n      if (lineNameCount > 1) {\n        result[lineName] = document[lineName];\n      } else {\n        result[lineNameWoIndex] = document[lineName];\n      }\n\n      return result;\n    }, {} as Document);\n  }\n\n  /*\n  Remove index from a line name\n  E.g. POC(1) -> POC\n   */\n  private lineNameWithoutIndex(lineName: string) {\n    const openParenthesesIndex = lineName.indexOf('_');\n    return lineName.substr(\n      0,\n      openParenthesesIndex > 0 ? openParenthesesIndex : lineName.length,\n    );\n  }\n\n  private validate(str: string, options: DelineatedStringFormatterOptions): boolean {\n    return str.includes(options.lineSeparator) && str.includes(options.itemSeparator);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f1caabdaf17e40003d2507d4b63117488f4f4fe0","contentHash":"00fa87e657872c19ede4981e04ece8cf2b2b22255cf8fc2427f47013a2000d3e"},"/Users/hoanguyen/repos/personal/orderful/src/services/json-formatter.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/services/json-formatter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"2":{"start":{"line":4,"column":21},"end":{"line":4,"column":51}},"3":{"start":{"line":7,"column":8},"end":{"line":12,"column":9}},"4":{"start":{"line":8,"column":12},"end":{"line":8,"column":36}},"5":{"start":{"line":11,"column":12},"end":{"line":11,"column":77}},"6":{"start":{"line":15,"column":8},"end":{"line":15,"column":40}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":16},"end":{"line":13,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":24},"end":{"line":16,"column":5}},"line":14}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":2,"4":2,"5":1,"6":1,"7":1},"f":{"0":2,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/services/json-formatter.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/services/json-formatter.ts"],"names":[],"mappings":";;;AAEA,oDAA0D;AAE1D,MAAa,aAAa;IACxB,KAAK,CAAC,IAAY;QAChB,IAAI;YACF,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;SACzB;QAAC,OAAO,CAAC,EAAE;YACV,MAAM,IAAI,gCAAmB,CAAC,oBAAoB,CAAC,CAAC;SACrD;IACH,CAAC;IAED,SAAS,CAAC,QAAkB;QAC1B,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IAClC,CAAC;CACF;AAZD,sCAYC","sourcesContent":["import { Document } from '../interfaces/document';\nimport { Formatter } from '../interfaces/formatter';\nimport { BadRequestException } from '../utils/exceptions';\n\nexport class JsonFormatter implements Formatter {\n  parse(json: string): Document {\n    try {\n      return JSON.parse(json);\n    } catch (e) {\n      throw new BadRequestException('Invalid JSON Input');\n    }\n  }\n\n  stringify(document: Document): string {\n    return JSON.stringify(document);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"03a921ebc6de21f0f6dbc751f6d41b03d507a3c1","contentHash":"3bd2c4ed2f7784a5d615a26b47860df70ce2d33e6b4dbcc1a665a58d1fdfa1f0"},"/Users/hoanguyen/repos/personal/orderful/src/services/xml-formatter.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/services/xml-formatter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":41}},"3":{"start":{"line":5,"column":21},"end":{"line":5,"column":51}},"4":{"start":{"line":8,"column":8},"end":{"line":22,"column":9}},"5":{"start":{"line":9,"column":27},"end":{"line":14,"column":14}},"6":{"start":{"line":15,"column":12},"end":{"line":17,"column":13}},"7":{"start":{"line":16,"column":16},"end":{"line":16,"column":80}},"8":{"start":{"line":18,"column":12},"end":{"line":18,"column":53}},"9":{"start":{"line":21,"column":12},"end":{"line":21,"column":76}},"10":{"start":{"line":25,"column":20},"end":{"line":28,"column":10}},"11":{"start":{"line":29,"column":8},"end":{"line":29,"column":91}},"12":{"start":{"line":35,"column":8},"end":{"line":43,"column":15}},"13":{"start":{"line":36,"column":12},"end":{"line":38,"column":13}},"14":{"start":{"line":37,"column":16},"end":{"line":37,"column":30}},"15":{"start":{"line":39,"column":24},"end":{"line":39,"column":44}},"16":{"start":{"line":40,"column":12},"end":{"line":40,"column":32}},"17":{"start":{"line":41,"column":12},"end":{"line":41,"column":30}},"18":{"start":{"line":42,"column":12},"end":{"line":42,"column":26}},"19":{"start":{"line":46,"column":0},"end":{"line":46,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":15},"end":{"line":23,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":19},"end":{"line":30,"column":5}},"line":24},"2":{"name":"(anonymous_2)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":30},"end":{"line":44,"column":5}},"line":34},"3":{"name":"(anonymous_3)","decl":{"start":{"line":35,"column":44},"end":{"line":35,"column":45}},"loc":{"start":{"line":35,"column":61},"end":{"line":43,"column":9}},"line":35}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":8},"end":{"line":22,"column":9}},"type":"if","locations":[{"start":{"line":8,"column":8},"end":{"line":22,"column":9}},{"start":{"line":8,"column":8},"end":{"line":22,"column":9}}],"line":8},"1":{"loc":{"start":{"line":15,"column":12},"end":{"line":17,"column":13}},"type":"if","locations":[{"start":{"line":15,"column":12},"end":{"line":17,"column":13}},{"start":{"line":15,"column":12},"end":{"line":17,"column":13}}],"line":15},"2":{"loc":{"start":{"line":36,"column":12},"end":{"line":38,"column":13}},"type":"if","locations":[{"start":{"line":36,"column":12},"end":{"line":38,"column":13}},{"start":{"line":36,"column":12},"end":{"line":38,"column":13}}],"line":36}},"s":{"0":1,"1":1,"2":1,"3":1,"4":3,"5":3,"6":3,"7":2,"8":1,"9":0,"10":1,"11":1,"12":1,"13":62,"14":1,"15":61,"16":61,"17":61,"18":61,"19":1},"f":{"0":3,"1":1,"2":1,"3":62},"b":{"0":[3,0],"1":[2,1],"2":[1,61]},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/services/xml-formatter.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/services/xml-formatter.ts"],"names":[],"mappings":";;;AAAA,0CAA0C;AAG1C,oDAA0D;AAE1D,MAAa,YAAY;IACvB,KAAK,CAAC,GAAW;QACf,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;YACxB,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE;gBAC/B,cAAc,EAAE,KAAK;gBACrB,0BAA0B;gBAC1B,qEAAqE;gBACrE,UAAU,EAAE,KAAK;aAClB,CAAC,CAAC;YAEH,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;gBAChB,MAAM,IAAI,gCAAmB,CAAC,mBAAmB,CAAC,CAAC;aACpD;YAED,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;SAC1C;aAAM;YACL,MAAM,IAAI,gCAAmB,CAAC,mBAAmB,CAAC,CAAC;SACpD;IACH,CAAC;IAED,SAAS,CAAC,GAAa;QACrB,MAAM,GAAG,GAAG,IAAI,MAAM,CAAC,SAAS,CAAC;YAC/B,MAAM,EAAE,IAAI;YACZ,QAAQ,EAAE,EAAE;SACb,CAAC,CAAC;QACH,OAAO,oDAAoD,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC;IACrF,CAAC;IAED;;OAEG;IACK,eAAe,CAAC,QAAkB;QACxC,OAAO,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE;YAClD,IAAI,GAAG,KAAK,OAAO,EAAE;gBACnB,OAAO,MAAM,CAAC;aACf;YAED,MAAM,GAAG,GAAG,EAAC,GAAG,QAAQ,CAAC,GAAG,CAAC,EAAC,CAAC;YAC/B,OAAO,GAAG,CAAC,OAAO,CAAC,CAAC;YACpB,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;YAElB,OAAO,MAAM,CAAC;QAChB,CAAC,EAAE,EAAc,CAAC,CAAC;IACrB,CAAC;CACF;AA5CD,oCA4CC","sourcesContent":["import * as parser from 'fast-xml-parser';\nimport { Document } from '../interfaces/document';\nimport { Formatter } from '../interfaces/formatter';\nimport { BadRequestException } from '../utils/exceptions';\n\nexport class XmlFormatter implements Formatter {\n  parse(xml: string): Document {\n    if (parser.validate(xml)) {\n      const parsed = parser.parse(xml, {\n        parseNodeValue: false,\n        // disable value trimming.\n        // Side effect: creates <#text> node indicating spaces and linebreaks\n        trimValues: false,\n      });\n\n      if (!parsed.root) {\n        throw new BadRequestException('Invalid XML Input');\n      }\n\n      return this.removeTextNodes(parsed.root);\n    } else {\n      throw new BadRequestException('Invalid XML Input');\n    }\n  }\n\n  stringify(doc: Document): string {\n    const j2x = new parser.j2xParser({\n      format: true,\n      indentBy: '',\n    });\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\\n<root>\\n${j2x.parse(doc)}</root>`;\n  }\n\n  /*\n  Remove default #text node inserted by XML parser library\n   */\n  private removeTextNodes(document: Document): Document {\n    return Object.keys(document).reduce((result, key) => {\n      if (key === '#text') {\n        return result;\n      }\n\n      const val = {...document[key]};\n      delete val['#text'];\n      result[key] = val;\n\n      return result;\n    }, {} as Document);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0efbfca4ccb5d6944d04885241d6581e4e2e959c","contentHash":"e5826c324bb942978e5bee5719bb84f51f49b1c1ad2d83d086437857b47eae0d"},"/Users/hoanguyen/repos/personal/orderful/src/services/delineated-string-formatter.spec.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/services/delineated-string-formatter.spec.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":21},"end":{"line":4,"column":51}},"3":{"start":{"line":5,"column":20},"end":{"line":5,"column":49}},"4":{"start":{"line":6,"column":38},"end":{"line":6,"column":78}},"5":{"start":{"line":7,"column":0},"end":{"line":42,"column":3}},"6":{"start":{"line":8,"column":22},"end":{"line":8,"column":83}},"7":{"start":{"line":9,"column":4},"end":{"line":28,"column":7}},"8":{"start":{"line":10,"column":8},"end":{"line":13,"column":11}},"9":{"start":{"line":11,"column":23},"end":{"line":11,"column":87}},"10":{"start":{"line":11,"column":29},"end":{"line":11,"column":87}},"11":{"start":{"line":12,"column":12},"end":{"line":12,"column":78}},"12":{"start":{"line":14,"column":8},"end":{"line":20,"column":11}},"13":{"start":{"line":15,"column":23},"end":{"line":18,"column":14}},"14":{"start":{"line":15,"column":29},"end":{"line":18,"column":14}},"15":{"start":{"line":19,"column":12},"end":{"line":19,"column":78}},"16":{"start":{"line":21,"column":8},"end":{"line":27,"column":11}},"17":{"start":{"line":22,"column":24},"end":{"line":25,"column":14}},"18":{"start":{"line":26,"column":12},"end":{"line":26,"column":68}},"19":{"start":{"line":29,"column":4},"end":{"line":41,"column":7}},"20":{"start":{"line":30,"column":8},"end":{"line":33,"column":11}},"21":{"start":{"line":31,"column":23},"end":{"line":31,"column":77}},"22":{"start":{"line":31,"column":29},"end":{"line":31,"column":77}},"23":{"start":{"line":32,"column":12},"end":{"line":32,"column":78}},"24":{"start":{"line":34,"column":8},"end":{"line":40,"column":11}},"25":{"start":{"line":35,"column":24},"end":{"line":38,"column":14}},"26":{"start":{"line":39,"column":12},"end":{"line":39,"column":82}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":38},"end":{"line":7,"column":39}},"loc":{"start":{"line":7,"column":44},"end":{"line":42,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":22},"end":{"line":9,"column":23}},"loc":{"start":{"line":9,"column":28},"end":{"line":28,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":96},"end":{"line":10,"column":97}},"loc":{"start":{"line":10,"column":102},"end":{"line":13,"column":9}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":11,"column":23},"end":{"line":11,"column":24}},"loc":{"start":{"line":11,"column":29},"end":{"line":11,"column":87}},"line":11},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":96},"end":{"line":14,"column":97}},"loc":{"start":{"line":14,"column":102},"end":{"line":20,"column":9}},"line":14},"5":{"name":"(anonymous_5)","decl":{"start":{"line":15,"column":23},"end":{"line":15,"column":24}},"loc":{"start":{"line":15,"column":29},"end":{"line":18,"column":14}},"line":15},"6":{"name":"(anonymous_6)","decl":{"start":{"line":21,"column":57},"end":{"line":21,"column":58}},"loc":{"start":{"line":21,"column":63},"end":{"line":27,"column":9}},"line":21},"7":{"name":"(anonymous_7)","decl":{"start":{"line":29,"column":26},"end":{"line":29,"column":27}},"loc":{"start":{"line":29,"column":32},"end":{"line":41,"column":5}},"line":29},"8":{"name":"(anonymous_8)","decl":{"start":{"line":30,"column":96},"end":{"line":30,"column":97}},"loc":{"start":{"line":30,"column":102},"end":{"line":33,"column":9}},"line":30},"9":{"name":"(anonymous_9)","decl":{"start":{"line":31,"column":23},"end":{"line":31,"column":24}},"loc":{"start":{"line":31,"column":29},"end":{"line":31,"column":77}},"line":31},"10":{"name":"(anonymous_10)","decl":{"start":{"line":34,"column":56},"end":{"line":34,"column":57}},"loc":{"start":{"line":34,"column":62},"end":{"line":40,"column":9}},"line":34}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"b":{},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/services/delineated-string-formatter.spec.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/services/delineated-string-formatter.spec.ts"],"names":[],"mappings":";;AAAA,+BAA8B;AAC9B,oDAA0D;AAC1D,kDAA4E;AAC5E,+EAA4G;AAE5G,QAAQ,CAAC,2BAA2B,EAAE,GAAG,EAAE;IACzC,MAAM,SAAS,GAAG,IAAI,uDAAyB,EAAE,CAAC;IAElD,QAAQ,CAAC,OAAO,EAAE,GAAG,EAAE;QACrB,EAAE,CAAC,mFAAmF,EAAE,GAAG,EAAE;YAC3F,MAAM,EAAE,GAAG,GAAG,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,qCAAyB,EAAE,EAAsC,CAAC,CAAC;YACpG,IAAA,aAAM,EAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,gCAAmB,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,mFAAmF,EAAE,GAAG,EAAE;YAC3F,MAAM,EAAE,GAAG,GAAG,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,qCAAyB,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE;gBAC5E,aAAa,EAAE,GAAG;gBAClB,aAAa,EAAE,GAAG;aACnB,CAAC,CAAC;YACH,IAAA,aAAM,EAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,gCAAmB,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,4CAA4C,EAAE,GAAG,EAAE;YACpD,MAAM,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,qCAAyB,EAAE;gBACrD,aAAa,EAAE,GAAG;gBAClB,aAAa,EAAE,GAAG;aACnB,CAAC,CAAC;YAEH,IAAA,aAAM,EAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,uBAAW,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,WAAW,EAAE,GAAG,EAAE;QACzB,EAAE,CAAC,mFAAmF,EAAE,GAAG,EAAE;YAC3F,MAAM,EAAE,GAAG,GAAG,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,uBAAW,EAAE,EAAsC,CAAC,CAAC;YAC1F,IAAA,aAAM,EAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,gCAAmB,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,2CAA2C,EAAE,GAAG,EAAE;YACnD,MAAM,GAAG,GAAG,SAAS,CAAC,SAAS,CAAC,uBAAW,EAAE;gBAC3C,aAAa,EAAE,GAAG;gBAClB,aAAa,EAAE,GAAG;aACnB,CAAC,CAAC;YAEH,IAAA,aAAM,EAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,qCAAyB,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { expect } from 'chai';\nimport { BadRequestException } from '../utils/exceptions';\nimport { DELINEATED_STRING_EXAMPLE, DOC_EXAMPLE } from '../utils/test-data';\nimport { DelineatedStringFormatter, DelineatedStringFormatterOptions } from './delineated-string-formatter';\n\ndescribe('DelineatedStringFormatter', () => {\n  const formatter = new DelineatedStringFormatter();\n\n  describe('parse', () => {\n    it('should throw BadRequestException if lineSeparator and itemSeparator are undefined', () => {\n      const fn = () => formatter.parse(DELINEATED_STRING_EXAMPLE, {} as DelineatedStringFormatterOptions);\n      expect(fn).to.throw(BadRequestException);\n    });\n\n    it('should throw BadRequestException if lineSeparator and itemSeparator are undefined', () => {\n      const fn = () => formatter.parse(DELINEATED_STRING_EXAMPLE.replace(/~/g, ''), {\n        lineSeparator: '~',\n        itemSeparator: '*',\n      });\n      expect(fn).to.throw(BadRequestException);\n    });\n\n    it('should parse to correct document structure', () => {\n      const doc = formatter.parse(DELINEATED_STRING_EXAMPLE, {\n        lineSeparator: '~',\n        itemSeparator: '*',\n      });\n\n      expect(doc).to.eql(DOC_EXAMPLE);\n    });\n  });\n\n  describe('stringify', () => {\n    it('should throw BadRequestException if lineSeparator and itemSeparator are undefined', () => {\n      const fn = () => formatter.stringify(DOC_EXAMPLE, {} as DelineatedStringFormatterOptions);\n      expect(fn).to.throw(BadRequestException);\n    });\n\n    it('should convert document to correct string', () => {\n      const str = formatter.stringify(DOC_EXAMPLE, {\n        lineSeparator: '~',\n        itemSeparator: '*',\n      });\n\n      expect(str).to.eql(DELINEATED_STRING_EXAMPLE);\n    });\n  });\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8b58bee321e4c633e807cbfd5bbfe69297855eb3","contentHash":"d9d7c281b97864c7cdbc4029bac43dbb8c9e32f587514fcfe13cfef20fe62008"},"/Users/hoanguyen/repos/personal/orderful/src/utils/test-data.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/utils/test-data.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":110}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":2036}},"3":{"start":{"line":5,"column":0},"end":{"line":350,"column":2}},"4":{"start":{"line":351,"column":0},"end":{"line":351,"column":5535}},"5":{"start":{"line":352,"column":0},"end":{"line":821,"column":9}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/utils/test-data.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/utils/test-data.ts"],"names":[],"mappings":"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","sourcesContent":["import { Document } from '../interfaces/document';\n\nexport const DELINEATED_STRING_EXAMPLE = 'ISA*00*          *00*          *12*5032337522     *01*048337914      *190225*1532*^*00501*000001367*0*P*>~GS*PO*SENDER*RECEIVER*20190325*1532*572*X*005010~ST*850*000000579~BEG*00*SA*0097129080**20190325~REF*DP*0041~REF*IA*34354104~PER*BD*LD*TE*_503 232-8844~FOB*CC~CSH*Y~ITD**2*****60*****NET 60 DAYS~DTM*001*20190404~DTM*002*20190411~DTM*010*20190325~N9*ZZ*COMMENTS~MTX**REP:BOB:573-888-8888~MTX**FAX #:573-888-8888~MTX**PROVIDE A GENERAL COMPLIANCY CERTIFICATE FOR~MTX**APPLICABLE PRODUCTS MANUFACTURED AFTER~MTX**NOVEMBER 12, 2008 INDICATING THAT THE PRODUCTS~MTX**HAVE MET ALL APPLICABLE PRODUCT SAFETY STANDARDS~MTX**AS PER U.S. CONSUMER PRODUCTS SAFETY IMPROVEMENT~MTX**ACT OF 2008. CERTIFICATES THAT ARE NOT ALREADY~MTX**ACCESSIBLE IN ELECTRONIC FORMAT ACCORDING TO~MTX**CPSC GUIDELINES SHOULD BE~MTX**EMAILED TO notarealemail@orderful.com~N1*BT*DEPT STORE, INC.*9*0079088090000~N3*P O BOX 305248~N4*NASHVILLE*TN*372305103~N1*ST*DEPT STORE*9*0079088094461~N2*CHEHALIS RSC DC - HOME/HCC~N3*224 MAURIN RD.~N4*CHEHALIS*WA*985328716~N1*BY*DEPT STORE, INC.*9*0079088090000~PO1*1*21*EA*16.5**UP*014306929699*PI*04598244*VN*US840116*VE*RUST*C3*0942/0965~PID*F*08***19\" PLANTER RUST~PID*F*74***19\"~PO4*1*************3~PO1*2*21*EA*16.5**UP*014306923895*PI*05185047*VN*US840688*VE*LAVA*C3*0942/0965~PID*F*08***19\" PLANTER LAVA US840688~PID*F*74***19\"~PO4*1*************3~PO1*3*10*EA*11**UP*014306929798*PI*14598241*VN*US839116*VE*RUST*C3*0942/0965~PID*F*08***15\" PLANTER RUST~PID*F*74***15\"~PO4*1*************5~PO1*4*39*EA*19.5**UP*014306923901*PI*25185041*VN*US841688*VE*LAVA*C3*0942/0965~PID*F*08***23\" PLANTER LAVA US841688~PID*F*74***23\"~PO4*1*************3~PO1*5*12*EA*19.5**UP*014306929705*PI*93598248*VN*US841116*VE*RUST*C3*0942/0965~PID*F*08***23\" PLANTER RUST~PID*F*74***23\"~PO4*1*************3~PO1*6*25*EA*11**UP*014306923833*PI*94185041*VN*US839688*VE*LAVA*C3*0942/0965~PID*F*08***15\" PLANTER LAVA US839688~PID*F*74***15\"~PO4*1*************5~CTT*6~SE*57*000000579~GE*1*572~IEA*1*000001467~';\n\nexport const DOC_EXAMPLE: Document = {\n  ISA: {\n    ISA1: '00',\n    ISA2: '          ',\n    ISA3: '00',\n    ISA4: '          ',\n    ISA5: '12',\n    ISA6: '5032337522     ',\n    ISA7: '01',\n    ISA8: '048337914      ',\n    ISA9: '190225',\n    ISA10: '1532',\n    ISA11: '^',\n    ISA12: '00501',\n    ISA13: '000001367',\n    ISA14: '0',\n    ISA15: 'P',\n    ISA16: '>'\n  },\n  GS: {\n    GS1: 'PO',\n    GS2: 'SENDER',\n    GS3: 'RECEIVER',\n    GS4: '20190325',\n    GS5: '1532',\n    GS6: '572',\n    GS7: 'X',\n    GS8: '005010'\n  },\n  ST: {ST1: '850', ST2: '000000579'},\n  BEG: {\n    BEG1: '00',\n    BEG2: 'SA',\n    BEG3: '0097129080',\n    BEG4: '',\n    BEG5: '20190325'\n  },\n  'REF_1': {REF1: 'DP', REF2: '0041'},\n  'REF_2': {REF1: 'IA', REF2: '34354104'},\n  PER: {PER1: 'BD', PER2: 'LD', PER3: 'TE', PER4: '_503 232-8844'},\n  FOB: {FOB1: 'CC'},\n  CSH: {CSH1: 'Y'},\n  ITD: {\n    ITD1: '',\n    ITD2: '2',\n    ITD3: '',\n    ITD4: '',\n    ITD5: '',\n    ITD6: '',\n    ITD7: '60',\n    ITD8: '',\n    ITD9: '',\n    ITD10: '',\n    ITD11: '',\n    ITD12: 'NET 60 DAYS'\n  },\n  'DTM_1': {DTM1: '001', DTM2: '20190404'},\n  'DTM_2': {DTM1: '002', DTM2: '20190411'},\n  'DTM_3': {DTM1: '010', DTM2: '20190325'},\n  N9: {N91: 'ZZ', N92: 'COMMENTS'},\n  'MTX_1': {MTX1: '', MTX2: 'REP:BOB:573-888-8888'},\n  'MTX_2': {MTX1: '', MTX2: 'FAX #:573-888-8888'},\n  'MTX_3': {MTX1: '', MTX2: 'PROVIDE A GENERAL COMPLIANCY CERTIFICATE FOR'},\n  'MTX_4': {MTX1: '', MTX2: 'APPLICABLE PRODUCTS MANUFACTURED AFTER'},\n  'MTX_5': {MTX1: '', MTX2: 'NOVEMBER 12, 2008 INDICATING THAT THE PRODUCTS'},\n  'MTX_6': {\n    MTX1: '',\n    MTX2: 'HAVE MET ALL APPLICABLE PRODUCT SAFETY STANDARDS'\n  },\n  'MTX_7': {\n    MTX1: '',\n    MTX2: 'AS PER U.S. CONSUMER PRODUCTS SAFETY IMPROVEMENT'\n  },\n  'MTX_8': {MTX1: '', MTX2: 'ACT OF 2008. CERTIFICATES THAT ARE NOT ALREADY'},\n  'MTX_9': {MTX1: '', MTX2: 'ACCESSIBLE IN ELECTRONIC FORMAT ACCORDING TO'},\n  'MTX_10': {MTX1: '', MTX2: 'CPSC GUIDELINES SHOULD BE'},\n  'MTX_11': {MTX1: '', MTX2: 'EMAILED TO notarealemail@orderful.com'},\n  'N1_1': {\n    N11: 'BT',\n    N12: 'DEPT STORE, INC.',\n    N13: '9',\n    N14: '0079088090000'\n  },\n  'N3_1': {N31: 'P O BOX 305248'},\n  'N4_1': {N41: 'NASHVILLE', N42: 'TN', N43: '372305103'},\n  'N1_2': {N11: 'ST', N12: 'DEPT STORE', N13: '9', N14: '0079088094461'},\n  N2: {N21: 'CHEHALIS RSC DC - HOME/HCC'},\n  'N3_2': {N31: '224 MAURIN RD.'},\n  'N4_2': {N41: 'CHEHALIS', N42: 'WA', N43: '985328716'},\n  'N1_3': {\n    N11: 'BY',\n    N12: 'DEPT STORE, INC.',\n    N13: '9',\n    N14: '0079088090000'\n  },\n  'PO1_1': {\n    PO11: '1',\n    PO12: '21',\n    PO13: 'EA',\n    PO14: '16.5',\n    PO15: '',\n    PO16: 'UP',\n    PO17: '014306929699',\n    PO18: 'PI',\n    PO19: '04598244',\n    PO110: 'VN',\n    PO111: 'US840116',\n    PO112: 'VE',\n    PO113: 'RUST',\n    PO114: 'C3',\n    PO115: '0942/0965'\n  },\n  'PID_1': {\n    PID1: 'F',\n    PID2: '08',\n    PID3: '',\n    PID4: '',\n    PID5: '19\" PLANTER RUST'\n  },\n  'PID_2': {PID1: 'F', PID2: '74', PID3: '', PID4: '', PID5: '19\"'},\n  'PO4_1': {\n    PO41: '1',\n    PO42: '',\n    PO43: '',\n    PO44: '',\n    PO45: '',\n    PO46: '',\n    PO47: '',\n    PO48: '',\n    PO49: '',\n    PO410: '',\n    PO411: '',\n    PO412: '',\n    PO413: '',\n    PO414: '3'\n  },\n  'PO1_2': {\n    PO11: '2',\n    PO12: '21',\n    PO13: 'EA',\n    PO14: '16.5',\n    PO15: '',\n    PO16: 'UP',\n    PO17: '014306923895',\n    PO18: 'PI',\n    PO19: '05185047',\n    PO110: 'VN',\n    PO111: 'US840688',\n    PO112: 'VE',\n    PO113: 'LAVA',\n    PO114: 'C3',\n    PO115: '0942/0965'\n  },\n  'PID_3': {\n    PID1: 'F',\n    PID2: '08',\n    PID3: '',\n    PID4: '',\n    PID5: '19\" PLANTER LAVA US840688'\n  },\n  'PID_4': {PID1: 'F', PID2: '74', PID3: '', PID4: '', PID5: '19\"'},\n  'PO4_2': {\n    PO41: '1',\n    PO42: '',\n    PO43: '',\n    PO44: '',\n    PO45: '',\n    PO46: '',\n    PO47: '',\n    PO48: '',\n    PO49: '',\n    PO410: '',\n    PO411: '',\n    PO412: '',\n    PO413: '',\n    PO414: '3'\n  },\n  'PO1_3': {\n    PO11: '3',\n    PO12: '10',\n    PO13: 'EA',\n    PO14: '11',\n    PO15: '',\n    PO16: 'UP',\n    PO17: '014306929798',\n    PO18: 'PI',\n    PO19: '14598241',\n    PO110: 'VN',\n    PO111: 'US839116',\n    PO112: 'VE',\n    PO113: 'RUST',\n    PO114: 'C3',\n    PO115: '0942/0965'\n  },\n  'PID_5': {\n    PID1: 'F',\n    PID2: '08',\n    PID3: '',\n    PID4: '',\n    PID5: '15\" PLANTER RUST'\n  },\n  'PID_6': {PID1: 'F', PID2: '74', PID3: '', PID4: '', PID5: '15\"'},\n  'PO4_3': {\n    PO41: '1',\n    PO42: '',\n    PO43: '',\n    PO44: '',\n    PO45: '',\n    PO46: '',\n    PO47: '',\n    PO48: '',\n    PO49: '',\n    PO410: '',\n    PO411: '',\n    PO412: '',\n    PO413: '',\n    PO414: '5'\n  },\n  'PO1_4': {\n    PO11: '4',\n    PO12: '39',\n    PO13: 'EA',\n    PO14: '19.5',\n    PO15: '',\n    PO16: 'UP',\n    PO17: '014306923901',\n    PO18: 'PI',\n    PO19: '25185041',\n    PO110: 'VN',\n    PO111: 'US841688',\n    PO112: 'VE',\n    PO113: 'LAVA',\n    PO114: 'C3',\n    PO115: '0942/0965'\n  },\n  'PID_7': {\n    PID1: 'F',\n    PID2: '08',\n    PID3: '',\n    PID4: '',\n    PID5: '23\" PLANTER LAVA US841688'\n  },\n  'PID_8': {PID1: 'F', PID2: '74', PID3: '', PID4: '', PID5: '23\"'},\n  'PO4_4': {\n    PO41: '1',\n    PO42: '',\n    PO43: '',\n    PO44: '',\n    PO45: '',\n    PO46: '',\n    PO47: '',\n    PO48: '',\n    PO49: '',\n    PO410: '',\n    PO411: '',\n    PO412: '',\n    PO413: '',\n    PO414: '3'\n  },\n  'PO1_5': {\n    PO11: '5',\n    PO12: '12',\n    PO13: 'EA',\n    PO14: '19.5',\n    PO15: '',\n    PO16: 'UP',\n    PO17: '014306929705',\n    PO18: 'PI',\n    PO19: '93598248',\n    PO110: 'VN',\n    PO111: 'US841116',\n    PO112: 'VE',\n    PO113: 'RUST',\n    PO114: 'C3',\n    PO115: '0942/0965'\n  },\n  'PID_9': {\n    PID1: 'F',\n    PID2: '08',\n    PID3: '',\n    PID4: '',\n    PID5: '23\" PLANTER RUST'\n  },\n  'PID_10': {PID1: 'F', PID2: '74', PID3: '', PID4: '', PID5: '23\"'},\n  'PO4_5': {\n    PO41: '1',\n    PO42: '',\n    PO43: '',\n    PO44: '',\n    PO45: '',\n    PO46: '',\n    PO47: '',\n    PO48: '',\n    PO49: '',\n    PO410: '',\n    PO411: '',\n    PO412: '',\n    PO413: '',\n    PO414: '3'\n  },\n  'PO1_6': {\n    PO11: '6',\n    PO12: '25',\n    PO13: 'EA',\n    PO14: '11',\n    PO15: '',\n    PO16: 'UP',\n    PO17: '014306923833',\n    PO18: 'PI',\n    PO19: '94185041',\n    PO110: 'VN',\n    PO111: 'US839688',\n    PO112: 'VE',\n    PO113: 'LAVA',\n    PO114: 'C3',\n    PO115: '0942/0965'\n  },\n  'PID_11': {\n    PID1: 'F',\n    PID2: '08',\n    PID3: '',\n    PID4: '',\n    PID5: '15\" PLANTER LAVA US839688'\n  },\n  'PID_12': {PID1: 'F', PID2: '74', PID3: '', PID4: '', PID5: '15\"'},\n  'PO4_6': {\n    PO41: '1',\n    PO42: '',\n    PO43: '',\n    PO44: '',\n    PO45: '',\n    PO46: '',\n    PO47: '',\n    PO48: '',\n    PO49: '',\n    PO410: '',\n    PO411: '',\n    PO412: '',\n    PO413: '',\n    PO414: '5'\n  },\n  CTT: {CTT1: '6'},\n  SE: {SE1: '57', SE2: '000000579'},\n  GE: {GE1: '1', GE2: '572'},\n  IEA: {IEA1: '1', IEA2: '000001467'}\n};\n\nexport const JSON_EXAMPLE = '{\"ISA\":{\"ISA1\":\"00\",\"ISA2\":\"          \",\"ISA3\":\"00\",\"ISA4\":\"          \",\"ISA5\":\"12\",\"ISA6\":\"5032337522     \",\"ISA7\":\"01\",\"ISA8\":\"048337914      \",\"ISA9\":\"190225\",\"ISA10\":\"1532\",\"ISA11\":\"^\",\"ISA12\":\"00501\",\"ISA13\":\"000001367\",\"ISA14\":\"0\",\"ISA15\":\"P\",\"ISA16\":\">\"},\"GS\":{\"GS1\":\"PO\",\"GS2\":\"SENDER\",\"GS3\":\"RECEIVER\",\"GS4\":\"20190325\",\"GS5\":\"1532\",\"GS6\":\"572\",\"GS7\":\"X\",\"GS8\":\"005010\"},\"ST\":{\"ST1\":\"850\",\"ST2\":\"000000579\"},\"BEG\":{\"BEG1\":\"00\",\"BEG2\":\"SA\",\"BEG3\":\"0097129080\",\"BEG4\":\"\",\"BEG5\":\"20190325\"},\"REF_1\":{\"REF1\":\"DP\",\"REF2\":\"0041\"},\"REF_2\":{\"REF1\":\"IA\",\"REF2\":\"34354104\"},\"PER\":{\"PER1\":\"BD\",\"PER2\":\"LD\",\"PER3\":\"TE\",\"PER4\":\"_503 232-8844\"},\"FOB\":{\"FOB1\":\"CC\"},\"CSH\":{\"CSH1\":\"Y\"},\"ITD\":{\"ITD1\":\"\",\"ITD2\":\"2\",\"ITD3\":\"\",\"ITD4\":\"\",\"ITD5\":\"\",\"ITD6\":\"\",\"ITD7\":\"60\",\"ITD8\":\"\",\"ITD9\":\"\",\"ITD10\":\"\",\"ITD11\":\"\",\"ITD12\":\"NET 60 DAYS\"},\"DTM_1\":{\"DTM1\":\"001\",\"DTM2\":\"20190404\"},\"DTM_2\":{\"DTM1\":\"002\",\"DTM2\":\"20190411\"},\"DTM_3\":{\"DTM1\":\"010\",\"DTM2\":\"20190325\"},\"N9\":{\"N91\":\"ZZ\",\"N92\":\"COMMENTS\"},\"MTX_1\":{\"MTX1\":\"\",\"MTX2\":\"REP:BOB:573-888-8888\"},\"MTX_2\":{\"MTX1\":\"\",\"MTX2\":\"FAX #:573-888-8888\"},\"MTX_3\":{\"MTX1\":\"\",\"MTX2\":\"PROVIDE A GENERAL COMPLIANCY CERTIFICATE FOR\"},\"MTX_4\":{\"MTX1\":\"\",\"MTX2\":\"APPLICABLE PRODUCTS MANUFACTURED AFTER\"},\"MTX_5\":{\"MTX1\":\"\",\"MTX2\":\"NOVEMBER 12, 2008 INDICATING THAT THE PRODUCTS\"},\"MTX_6\":{\"MTX1\":\"\",\"MTX2\":\"HAVE MET ALL APPLICABLE PRODUCT SAFETY STANDARDS\"},\"MTX_7\":{\"MTX1\":\"\",\"MTX2\":\"AS PER U.S. CONSUMER PRODUCTS SAFETY IMPROVEMENT\"},\"MTX_8\":{\"MTX1\":\"\",\"MTX2\":\"ACT OF 2008. CERTIFICATES THAT ARE NOT ALREADY\"},\"MTX_9\":{\"MTX1\":\"\",\"MTX2\":\"ACCESSIBLE IN ELECTRONIC FORMAT ACCORDING TO\"},\"MTX_10\":{\"MTX1\":\"\",\"MTX2\":\"CPSC GUIDELINES SHOULD BE\"},\"MTX_11\":{\"MTX1\":\"\",\"MTX2\":\"EMAILED TO notarealemail@orderful.com\"},\"N1_1\":{\"N11\":\"BT\",\"N12\":\"DEPT STORE, INC.\",\"N13\":\"9\",\"N14\":\"0079088090000\"},\"N3_1\":{\"N31\":\"P O BOX 305248\"},\"N4_1\":{\"N41\":\"NASHVILLE\",\"N42\":\"TN\",\"N43\":\"372305103\"},\"N1_2\":{\"N11\":\"ST\",\"N12\":\"DEPT STORE\",\"N13\":\"9\",\"N14\":\"0079088094461\"},\"N2\":{\"N21\":\"CHEHALIS RSC DC - HOME/HCC\"},\"N3_2\":{\"N31\":\"224 MAURIN RD.\"},\"N4_2\":{\"N41\":\"CHEHALIS\",\"N42\":\"WA\",\"N43\":\"985328716\"},\"N1_3\":{\"N11\":\"BY\",\"N12\":\"DEPT STORE, INC.\",\"N13\":\"9\",\"N14\":\"0079088090000\"},\"PO1_1\":{\"PO11\":\"1\",\"PO12\":\"21\",\"PO13\":\"EA\",\"PO14\":\"16.5\",\"PO15\":\"\",\"PO16\":\"UP\",\"PO17\":\"014306929699\",\"PO18\":\"PI\",\"PO19\":\"04598244\",\"PO110\":\"VN\",\"PO111\":\"US840116\",\"PO112\":\"VE\",\"PO113\":\"RUST\",\"PO114\":\"C3\",\"PO115\":\"0942/0965\"},\"PID_1\":{\"PID1\":\"F\",\"PID2\":\"08\",\"PID3\":\"\",\"PID4\":\"\",\"PID5\":\"19\\\\\" PLANTER RUST\"},\"PID_2\":{\"PID1\":\"F\",\"PID2\":\"74\",\"PID3\":\"\",\"PID4\":\"\",\"PID5\":\"19\\\\\"\"},\"PO4_1\":{\"PO41\":\"1\",\"PO42\":\"\",\"PO43\":\"\",\"PO44\":\"\",\"PO45\":\"\",\"PO46\":\"\",\"PO47\":\"\",\"PO48\":\"\",\"PO49\":\"\",\"PO410\":\"\",\"PO411\":\"\",\"PO412\":\"\",\"PO413\":\"\",\"PO414\":\"3\"},\"PO1_2\":{\"PO11\":\"2\",\"PO12\":\"21\",\"PO13\":\"EA\",\"PO14\":\"16.5\",\"PO15\":\"\",\"PO16\":\"UP\",\"PO17\":\"014306923895\",\"PO18\":\"PI\",\"PO19\":\"05185047\",\"PO110\":\"VN\",\"PO111\":\"US840688\",\"PO112\":\"VE\",\"PO113\":\"LAVA\",\"PO114\":\"C3\",\"PO115\":\"0942/0965\"},\"PID_3\":{\"PID1\":\"F\",\"PID2\":\"08\",\"PID3\":\"\",\"PID4\":\"\",\"PID5\":\"19\\\\\" PLANTER LAVA US840688\"},\"PID_4\":{\"PID1\":\"F\",\"PID2\":\"74\",\"PID3\":\"\",\"PID4\":\"\",\"PID5\":\"19\\\\\"\"},\"PO4_2\":{\"PO41\":\"1\",\"PO42\":\"\",\"PO43\":\"\",\"PO44\":\"\",\"PO45\":\"\",\"PO46\":\"\",\"PO47\":\"\",\"PO48\":\"\",\"PO49\":\"\",\"PO410\":\"\",\"PO411\":\"\",\"PO412\":\"\",\"PO413\":\"\",\"PO414\":\"3\"},\"PO1_3\":{\"PO11\":\"3\",\"PO12\":\"10\",\"PO13\":\"EA\",\"PO14\":\"11\",\"PO15\":\"\",\"PO16\":\"UP\",\"PO17\":\"014306929798\",\"PO18\":\"PI\",\"PO19\":\"14598241\",\"PO110\":\"VN\",\"PO111\":\"US839116\",\"PO112\":\"VE\",\"PO113\":\"RUST\",\"PO114\":\"C3\",\"PO115\":\"0942/0965\"},\"PID_5\":{\"PID1\":\"F\",\"PID2\":\"08\",\"PID3\":\"\",\"PID4\":\"\",\"PID5\":\"15\\\\\" PLANTER RUST\"},\"PID_6\":{\"PID1\":\"F\",\"PID2\":\"74\",\"PID3\":\"\",\"PID4\":\"\",\"PID5\":\"15\\\\\"\"},\"PO4_3\":{\"PO41\":\"1\",\"PO42\":\"\",\"PO43\":\"\",\"PO44\":\"\",\"PO45\":\"\",\"PO46\":\"\",\"PO47\":\"\",\"PO48\":\"\",\"PO49\":\"\",\"PO410\":\"\",\"PO411\":\"\",\"PO412\":\"\",\"PO413\":\"\",\"PO414\":\"5\"},\"PO1_4\":{\"PO11\":\"4\",\"PO12\":\"39\",\"PO13\":\"EA\",\"PO14\":\"19.5\",\"PO15\":\"\",\"PO16\":\"UP\",\"PO17\":\"014306923901\",\"PO18\":\"PI\",\"PO19\":\"25185041\",\"PO110\":\"VN\",\"PO111\":\"US841688\",\"PO112\":\"VE\",\"PO113\":\"LAVA\",\"PO114\":\"C3\",\"PO115\":\"0942/0965\"},\"PID_7\":{\"PID1\":\"F\",\"PID2\":\"08\",\"PID3\":\"\",\"PID4\":\"\",\"PID5\":\"23\\\\\" PLANTER LAVA US841688\"},\"PID_8\":{\"PID1\":\"F\",\"PID2\":\"74\",\"PID3\":\"\",\"PID4\":\"\",\"PID5\":\"23\\\\\"\"},\"PO4_4\":{\"PO41\":\"1\",\"PO42\":\"\",\"PO43\":\"\",\"PO44\":\"\",\"PO45\":\"\",\"PO46\":\"\",\"PO47\":\"\",\"PO48\":\"\",\"PO49\":\"\",\"PO410\":\"\",\"PO411\":\"\",\"PO412\":\"\",\"PO413\":\"\",\"PO414\":\"3\"},\"PO1_5\":{\"PO11\":\"5\",\"PO12\":\"12\",\"PO13\":\"EA\",\"PO14\":\"19.5\",\"PO15\":\"\",\"PO16\":\"UP\",\"PO17\":\"014306929705\",\"PO18\":\"PI\",\"PO19\":\"93598248\",\"PO110\":\"VN\",\"PO111\":\"US841116\",\"PO112\":\"VE\",\"PO113\":\"RUST\",\"PO114\":\"C3\",\"PO115\":\"0942/0965\"},\"PID_9\":{\"PID1\":\"F\",\"PID2\":\"08\",\"PID3\":\"\",\"PID4\":\"\",\"PID5\":\"23\\\\\" PLANTER RUST\"},\"PID_10\":{\"PID1\":\"F\",\"PID2\":\"74\",\"PID3\":\"\",\"PID4\":\"\",\"PID5\":\"23\\\\\"\"},\"PO4_5\":{\"PO41\":\"1\",\"PO42\":\"\",\"PO43\":\"\",\"PO44\":\"\",\"PO45\":\"\",\"PO46\":\"\",\"PO47\":\"\",\"PO48\":\"\",\"PO49\":\"\",\"PO410\":\"\",\"PO411\":\"\",\"PO412\":\"\",\"PO413\":\"\",\"PO414\":\"3\"},\"PO1_6\":{\"PO11\":\"6\",\"PO12\":\"25\",\"PO13\":\"EA\",\"PO14\":\"11\",\"PO15\":\"\",\"PO16\":\"UP\",\"PO17\":\"014306923833\",\"PO18\":\"PI\",\"PO19\":\"94185041\",\"PO110\":\"VN\",\"PO111\":\"US839688\",\"PO112\":\"VE\",\"PO113\":\"LAVA\",\"PO114\":\"C3\",\"PO115\":\"0942/0965\"},\"PID_11\":{\"PID1\":\"F\",\"PID2\":\"08\",\"PID3\":\"\",\"PID4\":\"\",\"PID5\":\"15\\\\\" PLANTER LAVA US839688\"},\"PID_12\":{\"PID1\":\"F\",\"PID2\":\"74\",\"PID3\":\"\",\"PID4\":\"\",\"PID5\":\"15\\\\\"\"},\"PO4_6\":{\"PO41\":\"1\",\"PO42\":\"\",\"PO43\":\"\",\"PO44\":\"\",\"PO45\":\"\",\"PO46\":\"\",\"PO47\":\"\",\"PO48\":\"\",\"PO49\":\"\",\"PO410\":\"\",\"PO411\":\"\",\"PO412\":\"\",\"PO413\":\"\",\"PO414\":\"5\"},\"CTT\":{\"CTT1\":\"6\"},\"SE\":{\"SE1\":\"57\",\"SE2\":\"000000579\"},\"GE\":{\"GE1\":\"1\",\"GE2\":\"572\"},\"IEA\":{\"IEA1\":\"1\",\"IEA2\":\"000001467\"}}';\n\nexport const XML_EXAMPLE = `<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<root>\n<ISA>\n<ISA1>00</ISA1>\n<ISA2>          </ISA2>\n<ISA3>00</ISA3>\n<ISA4>          </ISA4>\n<ISA5>12</ISA5>\n<ISA6>5032337522     </ISA6>\n<ISA7>01</ISA7>\n<ISA8>048337914      </ISA8>\n<ISA9>190225</ISA9>\n<ISA10>1532</ISA10>\n<ISA11>^</ISA11>\n<ISA12>00501</ISA12>\n<ISA13>000001367</ISA13>\n<ISA14>0</ISA14>\n<ISA15>P</ISA15>\n<ISA16>></ISA16>\n</ISA>\n<GS>\n<GS1>PO</GS1>\n<GS2>SENDER</GS2>\n<GS3>RECEIVER</GS3>\n<GS4>20190325</GS4>\n<GS5>1532</GS5>\n<GS6>572</GS6>\n<GS7>X</GS7>\n<GS8>005010</GS8>\n</GS>\n<ST>\n<ST1>850</ST1>\n<ST2>000000579</ST2>\n</ST>\n<BEG>\n<BEG1>00</BEG1>\n<BEG2>SA</BEG2>\n<BEG3>0097129080</BEG3>\n<BEG4></BEG4>\n<BEG5>20190325</BEG5>\n</BEG>\n<REF_1>\n<REF1>DP</REF1>\n<REF2>0041</REF2>\n</REF_1>\n<REF_2>\n<REF1>IA</REF1>\n<REF2>34354104</REF2>\n</REF_2>\n<PER>\n<PER1>BD</PER1>\n<PER2>LD</PER2>\n<PER3>TE</PER3>\n<PER4>_503 232-8844</PER4>\n</PER>\n<FOB>\n<FOB1>CC</FOB1>\n</FOB>\n<CSH>\n<CSH1>Y</CSH1>\n</CSH>\n<ITD>\n<ITD1></ITD1>\n<ITD2>2</ITD2>\n<ITD3></ITD3>\n<ITD4></ITD4>\n<ITD5></ITD5>\n<ITD6></ITD6>\n<ITD7>60</ITD7>\n<ITD8></ITD8>\n<ITD9></ITD9>\n<ITD10></ITD10>\n<ITD11></ITD11>\n<ITD12>NET 60 DAYS</ITD12>\n</ITD>\n<DTM_1>\n<DTM1>001</DTM1>\n<DTM2>20190404</DTM2>\n</DTM_1>\n<DTM_2>\n<DTM1>002</DTM1>\n<DTM2>20190411</DTM2>\n</DTM_2>\n<DTM_3>\n<DTM1>010</DTM1>\n<DTM2>20190325</DTM2>\n</DTM_3>\n<N9>\n<N91>ZZ</N91>\n<N92>COMMENTS</N92>\n</N9>\n<MTX_1>\n<MTX1></MTX1>\n<MTX2>REP:BOB:573-888-8888</MTX2>\n</MTX_1>\n<MTX_2>\n<MTX1></MTX1>\n<MTX2>FAX #:573-888-8888</MTX2>\n</MTX_2>\n<MTX_3>\n<MTX1></MTX1>\n<MTX2>PROVIDE A GENERAL COMPLIANCY CERTIFICATE FOR</MTX2>\n</MTX_3>\n<MTX_4>\n<MTX1></MTX1>\n<MTX2>APPLICABLE PRODUCTS MANUFACTURED AFTER</MTX2>\n</MTX_4>\n<MTX_5>\n<MTX1></MTX1>\n<MTX2>NOVEMBER 12, 2008 INDICATING THAT THE PRODUCTS</MTX2>\n</MTX_5>\n<MTX_6>\n<MTX1></MTX1>\n<MTX2>HAVE MET ALL APPLICABLE PRODUCT SAFETY STANDARDS</MTX2>\n</MTX_6>\n<MTX_7>\n<MTX1></MTX1>\n<MTX2>AS PER U.S. CONSUMER PRODUCTS SAFETY IMPROVEMENT</MTX2>\n</MTX_7>\n<MTX_8>\n<MTX1></MTX1>\n<MTX2>ACT OF 2008. CERTIFICATES THAT ARE NOT ALREADY</MTX2>\n</MTX_8>\n<MTX_9>\n<MTX1></MTX1>\n<MTX2>ACCESSIBLE IN ELECTRONIC FORMAT ACCORDING TO</MTX2>\n</MTX_9>\n<MTX_10>\n<MTX1></MTX1>\n<MTX2>CPSC GUIDELINES SHOULD BE</MTX2>\n</MTX_10>\n<MTX_11>\n<MTX1></MTX1>\n<MTX2>EMAILED TO notarealemail@orderful.com</MTX2>\n</MTX_11>\n<N1_1>\n<N11>BT</N11>\n<N12>DEPT STORE, INC.</N12>\n<N13>9</N13>\n<N14>0079088090000</N14>\n</N1_1>\n<N3_1>\n<N31>P O BOX 305248</N31>\n</N3_1>\n<N4_1>\n<N41>NASHVILLE</N41>\n<N42>TN</N42>\n<N43>372305103</N43>\n</N4_1>\n<N1_2>\n<N11>ST</N11>\n<N12>DEPT STORE</N12>\n<N13>9</N13>\n<N14>0079088094461</N14>\n</N1_2>\n<N2>\n<N21>CHEHALIS RSC DC - HOME/HCC</N21>\n</N2>\n<N3_2>\n<N31>224 MAURIN RD.</N31>\n</N3_2>\n<N4_2>\n<N41>CHEHALIS</N41>\n<N42>WA</N42>\n<N43>985328716</N43>\n</N4_2>\n<N1_3>\n<N11>BY</N11>\n<N12>DEPT STORE, INC.</N12>\n<N13>9</N13>\n<N14>0079088090000</N14>\n</N1_3>\n<PO1_1>\n<PO11>1</PO11>\n<PO12>21</PO12>\n<PO13>EA</PO13>\n<PO14>16.5</PO14>\n<PO15></PO15>\n<PO16>UP</PO16>\n<PO17>014306929699</PO17>\n<PO18>PI</PO18>\n<PO19>04598244</PO19>\n<PO110>VN</PO110>\n<PO111>US840116</PO111>\n<PO112>VE</PO112>\n<PO113>RUST</PO113>\n<PO114>C3</PO114>\n<PO115>0942/0965</PO115>\n</PO1_1>\n<PID_1>\n<PID1>F</PID1>\n<PID2>08</PID2>\n<PID3></PID3>\n<PID4></PID4>\n<PID5>19\" PLANTER RUST</PID5>\n</PID_1>\n<PID_2>\n<PID1>F</PID1>\n<PID2>74</PID2>\n<PID3></PID3>\n<PID4></PID4>\n<PID5>19\"</PID5>\n</PID_2>\n<PO4_1>\n<PO41>1</PO41>\n<PO42></PO42>\n<PO43></PO43>\n<PO44></PO44>\n<PO45></PO45>\n<PO46></PO46>\n<PO47></PO47>\n<PO48></PO48>\n<PO49></PO49>\n<PO410></PO410>\n<PO411></PO411>\n<PO412></PO412>\n<PO413></PO413>\n<PO414>3</PO414>\n</PO4_1>\n<PO1_2>\n<PO11>2</PO11>\n<PO12>21</PO12>\n<PO13>EA</PO13>\n<PO14>16.5</PO14>\n<PO15></PO15>\n<PO16>UP</PO16>\n<PO17>014306923895</PO17>\n<PO18>PI</PO18>\n<PO19>05185047</PO19>\n<PO110>VN</PO110>\n<PO111>US840688</PO111>\n<PO112>VE</PO112>\n<PO113>LAVA</PO113>\n<PO114>C3</PO114>\n<PO115>0942/0965</PO115>\n</PO1_2>\n<PID_3>\n<PID1>F</PID1>\n<PID2>08</PID2>\n<PID3></PID3>\n<PID4></PID4>\n<PID5>19\" PLANTER LAVA US840688</PID5>\n</PID_3>\n<PID_4>\n<PID1>F</PID1>\n<PID2>74</PID2>\n<PID3></PID3>\n<PID4></PID4>\n<PID5>19\"</PID5>\n</PID_4>\n<PO4_2>\n<PO41>1</PO41>\n<PO42></PO42>\n<PO43></PO43>\n<PO44></PO44>\n<PO45></PO45>\n<PO46></PO46>\n<PO47></PO47>\n<PO48></PO48>\n<PO49></PO49>\n<PO410></PO410>\n<PO411></PO411>\n<PO412></PO412>\n<PO413></PO413>\n<PO414>3</PO414>\n</PO4_2>\n<PO1_3>\n<PO11>3</PO11>\n<PO12>10</PO12>\n<PO13>EA</PO13>\n<PO14>11</PO14>\n<PO15></PO15>\n<PO16>UP</PO16>\n<PO17>014306929798</PO17>\n<PO18>PI</PO18>\n<PO19>14598241</PO19>\n<PO110>VN</PO110>\n<PO111>US839116</PO111>\n<PO112>VE</PO112>\n<PO113>RUST</PO113>\n<PO114>C3</PO114>\n<PO115>0942/0965</PO115>\n</PO1_3>\n<PID_5>\n<PID1>F</PID1>\n<PID2>08</PID2>\n<PID3></PID3>\n<PID4></PID4>\n<PID5>15\" PLANTER RUST</PID5>\n</PID_5>\n<PID_6>\n<PID1>F</PID1>\n<PID2>74</PID2>\n<PID3></PID3>\n<PID4></PID4>\n<PID5>15\"</PID5>\n</PID_6>\n<PO4_3>\n<PO41>1</PO41>\n<PO42></PO42>\n<PO43></PO43>\n<PO44></PO44>\n<PO45></PO45>\n<PO46></PO46>\n<PO47></PO47>\n<PO48></PO48>\n<PO49></PO49>\n<PO410></PO410>\n<PO411></PO411>\n<PO412></PO412>\n<PO413></PO413>\n<PO414>5</PO414>\n</PO4_3>\n<PO1_4>\n<PO11>4</PO11>\n<PO12>39</PO12>\n<PO13>EA</PO13>\n<PO14>19.5</PO14>\n<PO15></PO15>\n<PO16>UP</PO16>\n<PO17>014306923901</PO17>\n<PO18>PI</PO18>\n<PO19>25185041</PO19>\n<PO110>VN</PO110>\n<PO111>US841688</PO111>\n<PO112>VE</PO112>\n<PO113>LAVA</PO113>\n<PO114>C3</PO114>\n<PO115>0942/0965</PO115>\n</PO1_4>\n<PID_7>\n<PID1>F</PID1>\n<PID2>08</PID2>\n<PID3></PID3>\n<PID4></PID4>\n<PID5>23\" PLANTER LAVA US841688</PID5>\n</PID_7>\n<PID_8>\n<PID1>F</PID1>\n<PID2>74</PID2>\n<PID3></PID3>\n<PID4></PID4>\n<PID5>23\"</PID5>\n</PID_8>\n<PO4_4>\n<PO41>1</PO41>\n<PO42></PO42>\n<PO43></PO43>\n<PO44></PO44>\n<PO45></PO45>\n<PO46></PO46>\n<PO47></PO47>\n<PO48></PO48>\n<PO49></PO49>\n<PO410></PO410>\n<PO411></PO411>\n<PO412></PO412>\n<PO413></PO413>\n<PO414>3</PO414>\n</PO4_4>\n<PO1_5>\n<PO11>5</PO11>\n<PO12>12</PO12>\n<PO13>EA</PO13>\n<PO14>19.5</PO14>\n<PO15></PO15>\n<PO16>UP</PO16>\n<PO17>014306929705</PO17>\n<PO18>PI</PO18>\n<PO19>93598248</PO19>\n<PO110>VN</PO110>\n<PO111>US841116</PO111>\n<PO112>VE</PO112>\n<PO113>RUST</PO113>\n<PO114>C3</PO114>\n<PO115>0942/0965</PO115>\n</PO1_5>\n<PID_9>\n<PID1>F</PID1>\n<PID2>08</PID2>\n<PID3></PID3>\n<PID4></PID4>\n<PID5>23\" PLANTER RUST</PID5>\n</PID_9>\n<PID_10>\n<PID1>F</PID1>\n<PID2>74</PID2>\n<PID3></PID3>\n<PID4></PID4>\n<PID5>23\"</PID5>\n</PID_10>\n<PO4_5>\n<PO41>1</PO41>\n<PO42></PO42>\n<PO43></PO43>\n<PO44></PO44>\n<PO45></PO45>\n<PO46></PO46>\n<PO47></PO47>\n<PO48></PO48>\n<PO49></PO49>\n<PO410></PO410>\n<PO411></PO411>\n<PO412></PO412>\n<PO413></PO413>\n<PO414>3</PO414>\n</PO4_5>\n<PO1_6>\n<PO11>6</PO11>\n<PO12>25</PO12>\n<PO13>EA</PO13>\n<PO14>11</PO14>\n<PO15></PO15>\n<PO16>UP</PO16>\n<PO17>014306923833</PO17>\n<PO18>PI</PO18>\n<PO19>94185041</PO19>\n<PO110>VN</PO110>\n<PO111>US839688</PO111>\n<PO112>VE</PO112>\n<PO113>LAVA</PO113>\n<PO114>C3</PO114>\n<PO115>0942/0965</PO115>\n</PO1_6>\n<PID_11>\n<PID1>F</PID1>\n<PID2>08</PID2>\n<PID3></PID3>\n<PID4></PID4>\n<PID5>15\" PLANTER LAVA US839688</PID5>\n</PID_11>\n<PID_12>\n<PID1>F</PID1>\n<PID2>74</PID2>\n<PID3></PID3>\n<PID4></PID4>\n<PID5>15\"</PID5>\n</PID_12>\n<PO4_6>\n<PO41>1</PO41>\n<PO42></PO42>\n<PO43></PO43>\n<PO44></PO44>\n<PO45></PO45>\n<PO46></PO46>\n<PO47></PO47>\n<PO48></PO48>\n<PO49></PO49>\n<PO410></PO410>\n<PO411></PO411>\n<PO412></PO412>\n<PO413></PO413>\n<PO414>5</PO414>\n</PO4_6>\n<CTT>\n<CTT1>6</CTT1>\n</CTT>\n<SE>\n<SE1>57</SE1>\n<SE2>000000579</SE2>\n</SE>\n<GE>\n<GE1>1</GE1>\n<GE2>572</GE2>\n</GE>\n<IEA>\n<IEA1>1</IEA1>\n<IEA2>000001467</IEA2>\n</IEA>\n</root>`;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"60ec3f89578f9e8a387ecc08158fb6ad2cee4455","contentHash":"5b959942f315cefd972ebc52911d0c409a004260ada2b61d18335661799222bd"},"/Users/hoanguyen/repos/personal/orderful/src/services/json-formatter.spec.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/services/json-formatter.spec.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":21},"end":{"line":4,"column":51}},"3":{"start":{"line":5,"column":20},"end":{"line":5,"column":49}},"4":{"start":{"line":6,"column":25},"end":{"line":6,"column":52}},"5":{"start":{"line":7,"column":0},"end":{"line":25,"column":3}},"6":{"start":{"line":8,"column":22},"end":{"line":8,"column":58}},"7":{"start":{"line":9,"column":4},"end":{"line":18,"column":7}},"8":{"start":{"line":10,"column":8},"end":{"line":13,"column":11}},"9":{"start":{"line":11,"column":23},"end":{"line":11,"column":89}},"10":{"start":{"line":11,"column":29},"end":{"line":11,"column":89}},"11":{"start":{"line":12,"column":12},"end":{"line":12,"column":78}},"12":{"start":{"line":14,"column":8},"end":{"line":17,"column":11}},"13":{"start":{"line":15,"column":24},"end":{"line":15,"column":65}},"14":{"start":{"line":16,"column":12},"end":{"line":16,"column":68}},"15":{"start":{"line":19,"column":4},"end":{"line":24,"column":7}},"16":{"start":{"line":20,"column":8},"end":{"line":23,"column":11}},"17":{"start":{"line":21,"column":24},"end":{"line":21,"column":68}},"18":{"start":{"line":22,"column":12},"end":{"line":22,"column":69}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":27},"end":{"line":7,"column":28}},"loc":{"start":{"line":7,"column":33},"end":{"line":25,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":22},"end":{"line":9,"column":23}},"loc":{"start":{"line":9,"column":28},"end":{"line":18,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":77},"end":{"line":10,"column":78}},"loc":{"start":{"line":10,"column":83},"end":{"line":13,"column":9}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":11,"column":23},"end":{"line":11,"column":24}},"loc":{"start":{"line":11,"column":29},"end":{"line":11,"column":89}},"line":11},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":57},"end":{"line":14,"column":58}},"loc":{"start":{"line":14,"column":63},"end":{"line":17,"column":9}},"line":14},"5":{"name":"(anonymous_5)","decl":{"start":{"line":19,"column":26},"end":{"line":19,"column":27}},"loc":{"start":{"line":19,"column":32},"end":{"line":24,"column":5}},"line":19},"6":{"name":"(anonymous_6)","decl":{"start":{"line":20,"column":54},"end":{"line":20,"column":55}},"loc":{"start":{"line":20,"column":60},"end":{"line":23,"column":9}},"line":20}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"b":{},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/services/json-formatter.spec.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/services/json-formatter.spec.ts"],"names":[],"mappings":";;AAAA,+BAA8B;AAC9B,oDAA0D;AAC1D,kDAA+D;AAC/D,qDAAiD;AAEjD,QAAQ,CAAC,gBAAgB,EAAE,GAAG,EAAE;IAC9B,MAAM,SAAS,GAAG,IAAI,8BAAa,EAAE,CAAC;IAEtC,QAAQ,CAAC,OAAO,EAAE,GAAG,EAAE;QACrB,EAAE,CAAC,gEAAgE,EAAE,GAAG,EAAE;YACxE,MAAM,EAAE,GAAG,GAAG,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,wBAAY,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;YAClE,IAAA,aAAM,EAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,gCAAmB,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,4CAA4C,EAAE,GAAG,EAAE;YACpD,MAAM,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,wBAAY,CAAC,CAAC;YAC1C,IAAA,aAAM,EAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,uBAAW,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,WAAW,EAAE,GAAG,EAAE;QACzB,EAAE,CAAC,yCAAyC,EAAE,GAAG,EAAE;YACjD,MAAM,GAAG,GAAG,SAAS,CAAC,SAAS,CAAC,uBAAW,CAAC,CAAC;YAC7C,IAAA,aAAM,EAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,wBAAY,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { expect } from 'chai';\nimport { BadRequestException } from '../utils/exceptions';\nimport { DOC_EXAMPLE, JSON_EXAMPLE } from '../utils/test-data';\nimport { JsonFormatter } from './json-formatter';\n\ndescribe('Json Formatter', () => {\n  const formatter = new JsonFormatter();\n\n  describe('parse', () => {\n    it('should throw BadRequestException if json document is malformed', () => {\n      const fn = () => formatter.parse(JSON_EXAMPLE.replace('{', '**'));\n      expect(fn).to.throw(BadRequestException);\n    });\n\n    it('should parse to correct document structure', () => {\n      const doc = formatter.parse(JSON_EXAMPLE);\n      expect(doc).to.eql(DOC_EXAMPLE);\n    });\n  });\n\n  describe('stringify', () => {\n    it('should convert document to correct json', () => {\n      const str = formatter.stringify(DOC_EXAMPLE);\n      expect(str).to.eql(JSON_EXAMPLE);\n    });\n  });\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5ad9dd60e6ec8e5dcac74cdf9737b9a807d79e2e","contentHash":"940e425401c4487c2e6736797206f059db1aca21c0e80cc31004a32fded3c4c7"},"/Users/hoanguyen/repos/personal/orderful/src/services/xml-formatter.spec.ts":{"path":"/Users/hoanguyen/repos/personal/orderful/src/services/xml-formatter.spec.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":21},"end":{"line":4,"column":51}},"3":{"start":{"line":5,"column":20},"end":{"line":5,"column":49}},"4":{"start":{"line":6,"column":24},"end":{"line":6,"column":50}},"5":{"start":{"line":7,"column":0},"end":{"line":32,"column":3}},"6":{"start":{"line":8,"column":22},"end":{"line":8,"column":56}},"7":{"start":{"line":9,"column":4},"end":{"line":25,"column":7}},"8":{"start":{"line":10,"column":8},"end":{"line":13,"column":11}},"9":{"start":{"line":11,"column":23},"end":{"line":11,"column":89}},"10":{"start":{"line":11,"column":29},"end":{"line":11,"column":89}},"11":{"start":{"line":12,"column":12},"end":{"line":12,"column":78}},"12":{"start":{"line":14,"column":8},"end":{"line":20,"column":11}},"13":{"start":{"line":15,"column":24},"end":{"line":17,"column":39}},"14":{"start":{"line":18,"column":23},"end":{"line":18,"column":49}},"15":{"start":{"line":18,"column":29},"end":{"line":18,"column":49}},"16":{"start":{"line":19,"column":12},"end":{"line":19,"column":78}},"17":{"start":{"line":21,"column":8},"end":{"line":24,"column":11}},"18":{"start":{"line":22,"column":24},"end":{"line":22,"column":64}},"19":{"start":{"line":23,"column":12},"end":{"line":23,"column":68}},"20":{"start":{"line":26,"column":4},"end":{"line":31,"column":7}},"21":{"start":{"line":27,"column":8},"end":{"line":30,"column":11}},"22":{"start":{"line":28,"column":24},"end":{"line":28,"column":68}},"23":{"start":{"line":29,"column":12},"end":{"line":29,"column":68}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":26},"end":{"line":7,"column":27}},"loc":{"start":{"line":7,"column":32},"end":{"line":32,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":22},"end":{"line":9,"column":23}},"loc":{"start":{"line":9,"column":28},"end":{"line":25,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":76},"end":{"line":10,"column":77}},"loc":{"start":{"line":10,"column":82},"end":{"line":13,"column":9}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":11,"column":23},"end":{"line":11,"column":24}},"loc":{"start":{"line":11,"column":29},"end":{"line":11,"column":89}},"line":11},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":87},"end":{"line":14,"column":88}},"loc":{"start":{"line":14,"column":93},"end":{"line":20,"column":9}},"line":14},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":23},"end":{"line":18,"column":24}},"loc":{"start":{"line":18,"column":29},"end":{"line":18,"column":49}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":21,"column":57},"end":{"line":21,"column":58}},"loc":{"start":{"line":21,"column":63},"end":{"line":24,"column":9}},"line":21},"7":{"name":"(anonymous_7)","decl":{"start":{"line":26,"column":26},"end":{"line":26,"column":27}},"loc":{"start":{"line":26,"column":32},"end":{"line":31,"column":5}},"line":26},"8":{"name":"(anonymous_8)","decl":{"start":{"line":27,"column":53},"end":{"line":27,"column":54}},"loc":{"start":{"line":27,"column":59},"end":{"line":30,"column":9}},"line":27}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"b":{},"inputSourceMap":{"version":3,"file":"/Users/hoanguyen/repos/personal/orderful/src/services/xml-formatter.spec.ts","sources":["/Users/hoanguyen/repos/personal/orderful/src/services/xml-formatter.spec.ts"],"names":[],"mappings":";;AAAA,+BAA8B;AAC9B,oDAA0D;AAC1D,kDAA8D;AAC9D,mDAA+C;AAE/C,QAAQ,CAAC,eAAe,EAAE,GAAG,EAAE;IAC7B,MAAM,SAAS,GAAG,IAAI,4BAAY,EAAE,CAAC;IAErC,QAAQ,CAAC,OAAO,EAAE,GAAG,EAAE;QACrB,EAAE,CAAC,+DAA+D,EAAE,GAAG,EAAE;YACvE,MAAM,EAAE,GAAG,GAAG,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,uBAAW,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;YAClE,IAAA,aAAM,EAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,gCAAmB,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,0EAA0E,EAAE,GAAG,EAAE;YAClF,MAAM,GAAG,GAAG,uBAAW;iBACpB,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACrB,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;YAC1B,MAAM,EAAE,GAAG,GAAG,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACtC,IAAA,aAAM,EAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,gCAAmB,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,4CAA4C,EAAE,GAAG,EAAE;YACpD,MAAM,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,uBAAW,CAAC,CAAC;YACzC,IAAA,aAAM,EAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,uBAAW,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,WAAW,EAAE,GAAG,EAAE;QACzB,EAAE,CAAC,wCAAwC,EAAE,GAAG,EAAE;YAChD,MAAM,GAAG,GAAG,SAAS,CAAC,SAAS,CAAC,uBAAW,CAAC,CAAC;YAC7C,IAAA,aAAM,EAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,uBAAW,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { expect } from 'chai';\nimport { BadRequestException } from '../utils/exceptions';\nimport { DOC_EXAMPLE, XML_EXAMPLE } from '../utils/test-data';\nimport { XmlFormatter } from './xml-formatter';\n\ndescribe('XML Formatter', () => {\n  const formatter = new XmlFormatter();\n\n  describe('parse', () => {\n    it('should throw BadRequestException if xml document is malformed', () => {\n      const fn = () => formatter.parse(XML_EXAMPLE.replace(/</g, '**'));\n      expect(fn).to.throw(BadRequestException);\n    });\n\n    it('should throw BadRequestException if xml document does not have root node', () => {\n      const xml = XML_EXAMPLE\n        .replace('<root>', '')\n        .replace('</root>', '');\n      const fn = () => formatter.parse(xml);\n      expect(fn).to.throw(BadRequestException);\n    });\n\n    it('should parse to correct document structure', () => {\n      const doc = formatter.parse(XML_EXAMPLE);\n      expect(doc).to.eql(DOC_EXAMPLE);\n    });\n  });\n\n  describe('stringify', () => {\n    it('should convert document to correct xml', () => {\n      const xml = formatter.stringify(DOC_EXAMPLE);\n      expect(xml).to.eql(XML_EXAMPLE);\n    });\n  });\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8860d98e2d3de92ca20d6411f0e3137ad6cc3caa","contentHash":"5195345b3778eccff72f0904003bf2538e147197eb35f9f126ad9ce851b9fc5f"}}